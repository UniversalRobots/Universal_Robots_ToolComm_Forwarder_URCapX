(self.webpackChunktool_comm_forwarder_frontend=self.webpackChunktool_comm_forwarder_frontend||[]).push([[885],{7:(Ot,M)=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.createPromiseWithResolver=void 0;const H=()=>{};M.createPromiseWithResolver=function J(){let k,E=!1,z=H;return[new Promise(U=>{E?U(k):z=U}),U=>{E=!0,k=U,z(k)}]}},56:(Ot,M,H)=>{"use strict";var k;Object.defineProperty(M,"__esModule",{value:!0}),M.WorkerEventType=void 0,H(727),(k=M.WorkerEventType||(M.WorkerEventType={})).internalError="internalError",k.message="message",k.termination="termination"},119:function(Ot,M,H){"use strict";var J=this&&this.__awaiter||function(_t,W,X,st){return new(X||(X=Promise))(function(x,A){function P(I){try{T(st.next(I))}catch(Q){A(Q)}}function S(I){try{T(st.throw(I))}catch(Q){A(Q)}}function T(I){I.done?x(I.value):function ft(x){return x instanceof X?x:new X(function(A){A(x)})}(I.value).then(P,S)}T((st=st.apply(_t,W||[])).next())})},E=this&&this.__importDefault||function(_t){return _t&&_t.__esModule?_t:{default:_t}};Object.defineProperty(M,"__esModule",{value:!0}),M.Pool=M.Thread=M.PoolEventType=void 0;const k=E(H(282)),z=H(548),dt=H(508),yt=H(465),U=H(723);Object.defineProperty(M,"PoolEventType",{enumerable:!0,get:function(){return U.PoolEventType}});const ct=H(537);Object.defineProperty(M,"Thread",{enumerable:!0,get:function(){return ct.Thread}});let j=1;class pt{constructor(W,X){this.eventSubject=new z.Subject,this.initErrors=[],this.isClosing=!1,this.nextTaskID=1,this.taskQueue=[];const st="number"==typeof X?{size:X}:X||{},{size:ft=yt.defaultPoolSize}=st;this.debug=k.default(`threads:pool:${function tt(_t){return _t.replace(/\W/g," ").trim().replace(/\s+/g,"-")}(st.name||String(j++))}`),this.options=st,this.workers=function wt(_t,W){return function it(_t){const W=[];for(let X=0;X<_t;X++)W.push(X);return W}(W).map(()=>({init:_t(),runningTasks:[]}))}(W,ft),this.eventObservable=z.multicast(z.Observable.from(this.eventSubject)),Promise.all(this.workers.map(x=>x.init)).then(()=>this.eventSubject.next({type:U.PoolEventType.initialized,size:this.workers.length}),x=>{this.debug("Error while initializing pool worker:",x),this.eventSubject.error(x),this.initErrors.push(x)})}findIdlingWorker(){const{concurrency:W=1}=this.options;return this.workers.find(X=>X.runningTasks.length<W)}runPoolTask(W,X){return J(this,void 0,void 0,function*(){const st=this.workers.indexOf(W)+1;this.debug(`Running task #${X.id} on worker #${st}...`),this.eventSubject.next({type:U.PoolEventType.taskStart,taskID:X.id,workerID:st});try{const ft=yield X.run(yield W.init);this.debug(`Task #${X.id} completed successfully`),this.eventSubject.next({type:U.PoolEventType.taskCompleted,returnValue:ft,taskID:X.id,workerID:st})}catch(ft){this.debug(`Task #${X.id} failed`),this.eventSubject.next({type:U.PoolEventType.taskFailed,taskID:X.id,error:ft,workerID:st})}})}run(W,X){return J(this,void 0,void 0,function*(){const st=J(this,void 0,void 0,function*(){yield function nt(_t){return new Promise(W=>setTimeout(W,_t))}(0);try{yield this.runPoolTask(W,X)}finally{W.runningTasks=W.runningTasks.filter(x=>x!==st),this.isClosing||this.scheduleWork()}});W.runningTasks.push(st)})}scheduleWork(){this.debug("Attempt de-queueing a task in order to run it...");const W=this.findIdlingWorker();if(!W)return;const X=this.taskQueue.shift();if(!X)return this.debug("Task queue is empty"),void this.eventSubject.next({type:U.PoolEventType.taskQueueDrained});this.run(W,X)}taskCompletion(W){return new Promise((X,st)=>{const ft=this.events().subscribe(x=>{x.type===U.PoolEventType.taskCompleted&&x.taskID===W?(ft.unsubscribe(),X(x.returnValue)):x.type===U.PoolEventType.taskFailed&&x.taskID===W?(ft.unsubscribe(),st(x.error)):x.type===U.PoolEventType.terminated&&(ft.unsubscribe(),st(Error("Pool has been terminated before task was run.")))})})}settled(W=!1){return J(this,void 0,void 0,function*(){const X=()=>function K(_t,W){return _t.reduce((X,st)=>[...X,...W(st)],[])}(this.workers,x=>x.runningTasks),st=[],ft=this.eventObservable.subscribe(x=>{x.type===U.PoolEventType.taskFailed&&st.push(x.error)});return this.initErrors.length>0?Promise.reject(this.initErrors[0]):W&&0===this.taskQueue.length?(yield dt.allSettled(X()),st):(yield new Promise((x,A)=>{const P=this.eventObservable.subscribe({next(S){S.type===U.PoolEventType.taskQueueDrained&&(P.unsubscribe(),x(void 0))},error:A})}),yield dt.allSettled(X()),ft.unsubscribe(),st)})}completed(W=!1){return J(this,void 0,void 0,function*(){const X=this.settled(W),st=new Promise((x,A)=>{const P=this.eventObservable.subscribe({next(S){S.type===U.PoolEventType.taskQueueDrained?(P.unsubscribe(),x(X)):S.type===U.PoolEventType.taskFailed&&(P.unsubscribe(),A(S.error))},error:A})}),ft=yield Promise.race([X,st]);if(ft.length>0)throw ft[0]})}events(){return this.eventObservable}queue(W){const{maxQueuedJobs:X=1/0}=this.options;if(this.isClosing)throw Error("Cannot schedule pool tasks after terminate() has been called.");if(this.initErrors.length>0)throw this.initErrors[0];const st=this.nextTaskID++,ft=this.taskCompletion(st);ft.catch(A=>{this.debug(`Task #${st} errored:`,A)});const x={id:st,run:W,cancel:()=>{-1!==this.taskQueue.indexOf(x)&&(this.taskQueue=this.taskQueue.filter(A=>A!==x),this.eventSubject.next({type:U.PoolEventType.taskCanceled,taskID:x.id}))},then:ft.then.bind(ft)};if(this.taskQueue.length>=X)throw Error("Maximum number of pool tasks queued. Refusing to queue another one.\nThis usually happens for one of two reasons: We are either at peak workload right now or some tasks just won't finish, thus blocking the pool.");return this.debug(`Queueing task #${x.id}...`),this.taskQueue.push(x),this.eventSubject.next({type:U.PoolEventType.taskQueued,taskID:x.id}),this.scheduleWork(),x}terminate(W){return J(this,void 0,void 0,function*(){this.isClosing=!0,W||(yield this.completed(!0)),this.eventSubject.next({type:U.PoolEventType.terminated,remainingQueue:[...this.taskQueue]}),this.eventSubject.complete(),yield Promise.all(this.workers.map(X=>J(this,void 0,void 0,function*(){return ct.Thread.terminate(yield X.init)})))})}}function Bt(_t,W){return new pt(_t,W)}pt.EventType=U.PoolEventType,Bt.EventType=U.PoolEventType,M.Pool=Bt},146:function(Ot,M,H){"use strict";var J=this&&this.__createBinding||(Object.create?function(U,ct,j,it){void 0===it&&(it=j),Object.defineProperty(U,it,{enumerable:!0,get:function(){return ct[j]}})}:function(U,ct,j,it){void 0===it&&(it=j),U[it]=ct[j]}),E=this&&this.__exportStar||function(U,ct){for(var j in U)"default"!==j&&!Object.prototype.hasOwnProperty.call(ct,j)&&J(ct,U,j)};Object.defineProperty(M,"__esModule",{value:!0}),M.Transfer=M.DefaultSerializer=M.expose=M.registerSerializer=void 0;var k=H(981);Object.defineProperty(M,"registerSerializer",{enumerable:!0,get:function(){return k.registerSerializer}}),E(H(281),M);var z=H(305);Object.defineProperty(M,"expose",{enumerable:!0,get:function(){return z.expose}});var dt=H(435);Object.defineProperty(M,"DefaultSerializer",{enumerable:!0,get:function(){return dt.DefaultSerializer}});var yt=H(583);Object.defineProperty(M,"Transfer",{enumerable:!0,get:function(){return yt.Transfer}})},232:(Ot,M)=>{"use strict";let H;function k(z){return(""+z).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\/\/.+)?\/[^/]+(?:\?.*)?$/,"$1")+"/"}Object.defineProperty(M,"__esModule",{value:!0}),M.getBundleURL=M.getBaseURL=void 0,M.getBundleURL=function J(){return H||(H=function E(){try{throw new Error}catch(z){const dt=(""+z.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\/\/[^)\n]+/g);if(dt)return k(dt[0])}return"/"}()),H},M.getBaseURL=k},244:Ot=>{var M=1e3,H=60*M,J=60*H,E=24*J,k=7*E;function ct(j,it,nt,K){var tt=it>=1.5*nt;return Math.round(j/nt)+" "+K+(tt?"s":"")}Ot.exports=function(j,it){it=it||{};var nt=typeof j;if("string"===nt&&j.length>0)return function dt(j){if(!((j=String(j)).length>100)){var it=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(j);if(it){var nt=parseFloat(it[1]);switch((it[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*nt;case"weeks":case"week":case"w":return nt*k;case"days":case"day":case"d":return nt*E;case"hours":case"hour":case"hrs":case"hr":case"h":return nt*J;case"minutes":case"minute":case"mins":case"min":case"m":return nt*H;case"seconds":case"second":case"secs":case"sec":case"s":return nt*M;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return nt;default:return}}}}(j);if("number"===nt&&isFinite(j))return it.long?function U(j){var it=Math.abs(j);return it>=E?ct(j,it,E,"day"):it>=J?ct(j,it,J,"hour"):it>=H?ct(j,it,H,"minute"):it>=M?ct(j,it,M,"second"):j+" ms"}(j):function yt(j){var it=Math.abs(j);return it>=E?Math.round(j/E)+"d":it>=J?Math.round(j/J)+"h":it>=H?Math.round(j/H)+"m":it>=M?Math.round(j/M)+"s":j+"ms"}(j);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(j))}},254:(Ot,M)=>{"use strict";var E;Object.defineProperty(M,"__esModule",{value:!0}),M.WorkerMessageType=M.MasterMessageType=void 0,(E=M.MasterMessageType||(M.MasterMessageType={})).cancel="cancel",E.run="run",function(E){E.error="error",E.init="init",E.result="result",E.running="running",E.uncaughtError="uncaughtError"}(M.WorkerMessageType||(M.WorkerMessageType={}))},281:(Ot,M,H)=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.Worker=M.BlobWorker=M.isWorkerRuntime=M.Thread=M.spawn=M.Pool=void 0;const J=H(465);Object.defineProperty(M,"isWorkerRuntime",{enumerable:!0,get:function(){return J.isWorkerRuntime}});var E=H(119);Object.defineProperty(M,"Pool",{enumerable:!0,get:function(){return E.Pool}});var k=H(618);Object.defineProperty(M,"spawn",{enumerable:!0,get:function(){return k.spawn}});var z=H(537);Object.defineProperty(M,"Thread",{enumerable:!0,get:function(){return z.Thread}}),M.BlobWorker=J.getWorkerImplementation().blob,M.Worker=J.getWorkerImplementation().default},282:(Ot,M,H)=>{M.formatArgs=function E(U){if(U[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+U[0]+(this.useColors?"%c ":" ")+"+"+Ot.exports.humanize(this.diff),!this.useColors)return;const ct="color: "+this.color;U.splice(1,0,ct,"color: inherit");let j=0,it=0;U[0].replace(/%[a-zA-Z%]/g,nt=>{"%%"!==nt&&(j++,"%c"===nt&&(it=j))}),U.splice(it,0,ct)},M.save=function k(U){try{U?M.storage.setItem("debug",U):M.storage.removeItem("debug")}catch{}},M.load=function z(){let U;try{U=M.storage.getItem("debug")||M.storage.getItem("DEBUG")}catch{}return!U&&typeof process<"u"&&"env"in process&&(U=process.env.DEBUG),U},M.useColors=function J(){if(typeof window<"u"&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let U;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(U=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(U[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},M.storage=function dt(){try{return localStorage}catch{}}(),M.destroy=(()=>{let U=!1;return()=>{U||(U=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),M.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],M.log=console.debug||console.log||(()=>{}),Ot.exports=H(741)(M);const{formatters:yt}=Ot.exports;yt.j=function(U){try{return JSON.stringify(U)}catch(ct){return"[UnexpectedJSONParseError]: "+ct.message}}},305:function(Ot,M,H){"use strict";var J=this&&this.__awaiter||function(S,T,I,Q){return new(I||(I=Promise))(function(ot,at){function Wt(fe){try{be(Q.next(fe))}catch(ee){at(ee)}}function Pt(fe){try{be(Q.throw(fe))}catch(ee){at(ee)}}function be(fe){fe.done?ot(fe.value):function et(ot){return ot instanceof I?ot:new I(function(at){at(ot)})}(fe.value).then(Wt,Pt)}be((Q=Q.apply(S,T||[])).next())})},E=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(M,"__esModule",{value:!0}),M.expose=M.isWorkerRuntime=M.Transfer=M.registerSerializer=void 0;const k=E(H(814)),z=H(981),dt=H(583),yt=H(254),U=E(H(433));var ct=H(981);Object.defineProperty(M,"registerSerializer",{enumerable:!0,get:function(){return ct.registerSerializer}});var j=H(583);Object.defineProperty(M,"Transfer",{enumerable:!0,get:function(){return j.Transfer}}),M.isWorkerRuntime=U.default.isWorkerRuntime;let it=!1;const nt=new Map,tt=S=>S&&S.type===yt.MasterMessageType.run,wt=S=>k.default(S)||function pt(S){return S&&"object"==typeof S&&"function"==typeof S.subscribe}(S);function Bt(S){return dt.isTransferDescriptor(S)?{payload:S.send,transferables:S.transferables}:{payload:S,transferables:void 0}}function X(S,T){const{payload:I,transferables:Q}=Bt(T),et={type:yt.WorkerMessageType.error,uid:S,error:z.serialize(I)};U.default.postMessageToMaster(et,Q)}function st(S,T,I){const{payload:Q,transferables:et}=Bt(I);U.default.postMessageToMaster({type:yt.WorkerMessageType.result,uid:S,complete:!!T||void 0,payload:Q},et)}function x(S){try{const T={type:yt.WorkerMessageType.uncaughtError,error:z.serialize(S)};U.default.postMessageToMaster(T)}catch(T){console.error("Not reporting uncaught error back to master thread as it occured while reporting an uncaught error already.\nLatest error:",T,"\nOriginal error:",S)}}function A(S,T,I){return J(this,void 0,void 0,function*(){let Q;try{Q=T(...I)}catch(ot){return X(S,ot)}const et=wt(Q)?"observable":"promise";if(function ft(S,T){U.default.postMessageToMaster({type:yt.WorkerMessageType.running,uid:S,resultType:T})}(S,et),wt(Q)){const ot=Q.subscribe(at=>st(S,!1,z.serialize(at)),at=>{X(S,z.serialize(at)),nt.delete(S)},()=>{st(S,!0),nt.delete(S)});nt.set(S,ot)}else try{const ot=yield Q;st(S,!0,z.serialize(ot))}catch(ot){X(S,z.serialize(ot))}})}M.expose=function P(S){if(!U.default.isWorkerRuntime())throw Error("expose() called in the master thread.");if(it)throw Error("expose() called more than once. This is not possible. Pass an object to expose() if you want to expose multiple functions.");if(it=!0,"function"==typeof S)U.default.subscribeToMasterMessages(T=>{tt(T)&&!T.method&&A(T.uid,S,T.args.map(z.deserialize))}),function _t(){U.default.postMessageToMaster({type:yt.WorkerMessageType.init,exposed:{type:"function"}})}();else{if("object"!=typeof S||!S)throw Error(`Invalid argument passed to expose(). Expected a function or an object, got: ${S}`);U.default.subscribeToMasterMessages(I=>{tt(I)&&I.method&&A(I.uid,S[I.method],I.args.map(z.deserialize))}),function W(S){U.default.postMessageToMaster({type:yt.WorkerMessageType.init,exposed:{type:"module",methods:S}})}(Object.keys(S).filter(I=>"function"==typeof S[I]))}U.default.subscribeToMasterMessages(T=>{if((S=>S&&S.type===yt.MasterMessageType.cancel)(T)){const I=T.uid,Q=nt.get(I);Q&&(Q.unsubscribe(),nt.delete(I))}})},typeof self<"u"&&"function"==typeof self.addEventListener&&U.default.isWorkerRuntime()&&(self.addEventListener("error",S=>{setTimeout(()=>x(S.error||S),250)}),self.addEventListener("unhandledrejection",S=>{const T=S.reason;T&&"string"==typeof T.message&&setTimeout(()=>x(T),250)})),typeof process<"u"&&"function"==typeof process.on&&U.default.isWorkerRuntime()&&(process.on("uncaughtException",S=>{setTimeout(()=>x(S),250)}),process.on("unhandledRejection",S=>{S&&"string"==typeof S.message&&setTimeout(()=>x(S),250)}))},433:(Ot,M)=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.default={isWorkerRuntime:function(){const z=typeof self<"u"&&typeof Window<"u"&&self instanceof Window;return!(!(typeof self<"u"&&self.postMessage)||z)},postMessageToMaster:function(z,dt){self.postMessage(z,dt)},subscribeToMasterMessages:function(z){const dt=U=>{z(U.data)};return self.addEventListener("message",dt),()=>{self.removeEventListener("message",dt)}}}},435:(Ot,M)=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.DefaultSerializer=M.extendSerializer=void 0,M.extendSerializer=function H(k,z){const dt=k.deserialize.bind(k),yt=k.serialize.bind(k);return{deserialize:U=>z.deserialize(U,dt),serialize:U=>z.serialize(U,yt)}};const J_deserialize=k=>Object.assign(Error(k.message),{name:k.name,stack:k.stack}),J_serialize=k=>({__error_marker:"$$error",message:k.message,name:k.name,stack:k.stack});M.DefaultSerializer={deserialize:k=>(k=>k&&"object"==typeof k&&"__error_marker"in k&&"$$error"===k.__error_marker)(k)?J_deserialize(k):k,serialize:k=>k instanceof Error?J_serialize(k):k}},465:(Ot,M,H)=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.isWorkerRuntime=M.getWorkerImplementation=M.defaultPoolSize=void 0;const J=H(232);M.defaultPoolSize=typeof navigator<"u"&&navigator.hardwareConcurrency?navigator.hardwareConcurrency:4;const E=ct=>/^[a-zA-Z][a-zA-Z\d+\-.]*:/.test(ct);function k(ct){const j=new Blob([ct],{type:"application/javascript"});return URL.createObjectURL(j)}let dt;M.getWorkerImplementation=function yt(){return dt||(dt=function z(){if(typeof Worker>"u")return class{constructor(){throw Error("No web worker implementation available. You might have tried to spawn a worker within a worker in a browser that doesn't support workers in workers.")}};class ct extends Worker{constructor(nt,K){var tt,wt;"string"==typeof nt&&K&&K._baseURL?nt=new URL(nt,K._baseURL):"string"==typeof nt&&!E(nt)&&J.getBundleURL().match(/^file:\/\//i)&&(nt=new URL(nt,J.getBundleURL().replace(/\/[^\/]+$/,"/")),(!(null!==(tt=K?.CORSWorkaround)&&void 0!==tt)||tt)&&(nt=k(`importScripts(${JSON.stringify(nt)});`))),"string"==typeof nt&&E(nt)&&(!(null!==(wt=K?.CORSWorkaround)&&void 0!==wt)||wt)&&(nt=k(`importScripts(${JSON.stringify(nt)});`)),super(nt,K)}}class j extends ct{constructor(nt,K){super(window.URL.createObjectURL(nt),K)}static fromText(nt,K){const tt=new window.Blob([nt],{type:"text/javascript"});return new j(tt,K)}}return{blob:j,default:ct}}()),dt},M.isWorkerRuntime=function U(){const ct=typeof self<"u"&&typeof Window<"u"&&self instanceof Window;return!(!(typeof self<"u"&&self.postMessage)||ct)}},508:(Ot,M)=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.allSettled=void 0,M.allSettled=function H(J){return Promise.all(J.map(E=>{const k=yt=>({status:"fulfilled",value:yt}),z=yt=>({status:"rejected",reason:yt}),dt=Promise.resolve(E);try{return dt.then(k,z)}catch(yt){return Promise.reject(yt)}}))}},537:(Ot,M,H)=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.Thread=void 0;const J=H(727);function E(k){throw Error(k)}M.Thread={errors:k=>k[J.$errors]||E("Error observable not found. Make sure to pass a thread instance as returned by the spawn() promise."),events:k=>k[J.$events]||E("Events observable not found. Make sure to pass a thread instance as returned by the spawn() promise."),terminate:k=>k[J.$terminate]()}},548:(Ot,M,H)=>{"use strict";H.r(M),H.d(M,{Observable:()=>A,Subject:()=>ui,filter:()=>Q,flatMap:()=>be,interval:()=>fe,map:()=>pe,merge:()=>Di,multicast:()=>fn,scan:()=>$e,unsubscribe:()=>S});class E{constructor(R){this._baseObserver=R,this._pendingPromises=new Set}complete(){Promise.all(this._pendingPromises).then(()=>this._baseObserver.complete()).catch(R=>this._baseObserver.error(R))}error(R){this._baseObserver.error(R)}schedule(R){const L=Promise.all(this._pendingPromises),N=[],D=Z=>N.push(Z),$=Promise.resolve().then(()=>function(V,R,L,N){return new(L||(L=Promise))(function($,Z){function Et(gt){try{kt(N.next(gt))}catch(Vt){Z(Vt)}}function Ft(gt){try{kt(N.throw(gt))}catch(Vt){Z(Vt)}}function kt(gt){gt.done?$(gt.value):function D($){return $ instanceof L?$:new L(function(Z){Z($)})}(gt.value).then(Et,Ft)}kt((N=N.apply(V,R||[])).next())})}(this,void 0,void 0,function*(){yield L,yield R(D),this._pendingPromises.delete($);for(const Z of N)this._baseObserver.next(Z)})).catch(Z=>{this._pendingPromises.delete($),this._baseObserver.error(Z)});this._pendingPromises.add($)}}const k=()=>"function"==typeof Symbol,z=V=>k()&&!!Symbol[V],dt=V=>z(V)?Symbol[V]:"@@"+V;z("asyncIterator")||(Symbol.asyncIterator=Symbol.asyncIterator||Symbol.for("Symbol.asyncIterator"));const U=dt("iterator"),ct=dt("observable"),j=dt("species");function it(V,R){const L=V[R];if(null!=L){if("function"!=typeof L)throw new TypeError(L+" is not a function");return L}}function nt(V){let R=V.constructor;return void 0!==R&&(R=R[j],null===R&&(R=void 0)),void 0!==R?R:x}function tt(V){tt.log?tt.log(V):setTimeout(()=>{throw V},0)}function wt(V){Promise.resolve().then(()=>{try{V()}catch(R){tt(R)}})}function pt(V){const R=V._cleanup;if(void 0!==R&&(V._cleanup=void 0,R))try{if("function"==typeof R)R();else{const L=it(R,"unsubscribe");L&&L.call(R)}}catch(L){tt(L)}}function Bt(V){V._observer=void 0,V._queue=void 0,V._state="closed"}function W(V,R,L){V._state="running";const N=V._observer;try{const D=N?it(N,R):void 0;switch(R){case"next":D&&D.call(N,L);break;case"error":if(Bt(V),!D)throw L;D.call(N,L);break;case"complete":Bt(V),D&&D.call(N)}}catch(D){tt(D)}"closed"===V._state?pt(V):"running"===V._state&&(V._state="ready")}function X(V,R,L){if("closed"!==V._state){if("buffering"===V._state)return V._queue=V._queue||[],void V._queue.push({type:R,value:L});if("ready"!==V._state)return V._state="buffering",V._queue=[{type:R,value:L}],void wt(()=>function _t(V){const R=V._queue;if(R){V._queue=void 0,V._state="ready";for(const L of R)if(W(V,L.type,L.value),"closed"===V._state)break}}(V));W(V,R,L)}}class st{constructor(R,L){this._cleanup=void 0,this._observer=R,this._queue=void 0,this._state="initializing";const N=new ft(this);try{this._cleanup=L.call(void 0,N)}catch(D){N.error(D)}"initializing"===this._state&&(this._state="ready")}get closed(){return"closed"===this._state}unsubscribe(){"closed"!==this._state&&(Bt(this),pt(this))}}class ft{constructor(R){this._subscription=R}get closed(){return"closed"===this._subscription._state}next(R){X(this._subscription,"next",R)}error(R){X(this._subscription,"error",R)}complete(){X(this._subscription,"complete")}}class x{constructor(R){if(!(this instanceof x))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof R)throw new TypeError("Observable initializer must be a function");this._subscriber=R}subscribe(R,L,N){return("object"!=typeof R||null===R)&&(R={next:R,error:L,complete:N}),new st(R,this._subscriber)}pipe(R,...L){let N=this;for(const D of[R,...L])N=D(N);return N}tap(R,L,N){const D="object"!=typeof R||null===R?{next:R,error:L,complete:N}:R;return new x($=>this.subscribe({next(Z){D.next&&D.next(Z),$.next(Z)},error(Z){D.error&&D.error(Z),$.error(Z)},complete(){D.complete&&D.complete(),$.complete()},start(Z){D.start&&D.start(Z)}}))}forEach(R){return new Promise((L,N)=>{if("function"!=typeof R)return void N(new TypeError(R+" is not a function"));function D(){$.unsubscribe(),L(void 0)}const $=this.subscribe({next(Z){try{R(Z,D)}catch(Et){N(Et),$.unsubscribe()}},error(Z){N(Z)},complete(){L(void 0)}})})}map(R){if("function"!=typeof R)throw new TypeError(R+" is not a function");return new(nt(this))(N=>this.subscribe({next(D){let $=D;try{$=R(D)}catch(Z){return N.error(Z)}N.next($)},error(D){N.error(D)},complete(){N.complete()}}))}filter(R){if("function"!=typeof R)throw new TypeError(R+" is not a function");return new(nt(this))(N=>this.subscribe({next(D){try{if(!R(D))return}catch($){return N.error($)}N.next(D)},error(D){N.error(D)},complete(){N.complete()}}))}reduce(R,L){if("function"!=typeof R)throw new TypeError(R+" is not a function");const N=nt(this),D=arguments.length>1;let $=!1,Z=L;return new N(Et=>this.subscribe({next(Ft){const kt=!$;if($=!0,!kt||D)try{Z=R(Z,Ft)}catch(gt){return Et.error(gt)}else Z=Ft},error(Ft){Et.error(Ft)},complete(){if(!$&&!D)return Et.error(new TypeError("Cannot reduce an empty sequence"));Et.next(Z),Et.complete()}}))}concat(...R){const L=nt(this);return new L(N=>{let D,$=0;return function Z(Et){D=Et.subscribe({next(Ft){N.next(Ft)},error(Ft){N.error(Ft)},complete(){$===R.length?(D=void 0,N.complete()):Z(L.from(R[$++]))}})}(this),()=>{D&&(D.unsubscribe(),D=void 0)}})}flatMap(R){if("function"!=typeof R)throw new TypeError(R+" is not a function");const L=nt(this);return new L(N=>{const D=[],$=this.subscribe({next(Et){let Ft;if(R)try{Ft=R(Et)}catch(gt){return N.error(gt)}else Ft=Et;const kt=L.from(Ft).subscribe({next(gt){N.next(gt)},error(gt){N.error(gt)},complete(){const gt=D.indexOf(kt);gt>=0&&D.splice(gt,1),Z()}});D.push(kt)},error(Et){N.error(Et)},complete(){Z()}});function Z(){$.closed&&0===D.length&&N.complete()}return()=>{D.forEach(Et=>Et.unsubscribe()),$.unsubscribe()}})}[(Symbol,ct)](){return this}static from(R){const L="function"==typeof this?this:x;if(null==R)throw new TypeError(R+" is not an object");const N=it(R,ct);if(N){const D=N.call(R);if(Object(D)!==D)throw new TypeError(D+" is not an object");return function K(V){return V instanceof x}(D)&&D.constructor===L?D:new L($=>D.subscribe($))}if(z("iterator")){const D=it(R,U);if(D)return new L($=>{wt(()=>{if(!$.closed){for(const Z of D.call(R))if($.next(Z),$.closed)return;$.complete()}})})}if(Array.isArray(R))return new L(D=>{wt(()=>{if(!D.closed){for(const $ of R)if(D.next($),D.closed)return;D.complete()}})});throw new TypeError(R+" is not observable")}static of(...R){return new("function"==typeof this?this:x)(N=>{wt(()=>{if(!N.closed){for(const D of R)if(N.next(D),N.closed)return;N.complete()}})})}static get[j](){return this}}k()&&Object.defineProperty(x,Symbol("extensions"),{value:{symbol:ct,hostReportError:tt},configurable:!0});const A=x,S=function P(V){"function"==typeof V?V():V&&"function"==typeof V.unsubscribe&&V.unsubscribe()};const Q=function I(V){return R=>new A(L=>{const N=new E(L),D=R.subscribe({complete(){N.complete()},error($){N.error($)},next($){N.schedule(Z=>function(V,R,L,N){return new(L||(L=Promise))(function($,Z){function Et(gt){try{kt(N.next(gt))}catch(Vt){Z(Vt)}}function Ft(gt){try{kt(N.throw(gt))}catch(Vt){Z(Vt)}}function kt(gt){gt.done?$(gt.value):function D($){return $ instanceof L?$:new L(function(Z){Z($)})}(gt.value).then(Et,Ft)}kt((N=N.apply(V,R||[])).next())})}(this,void 0,void 0,function*(){(yield V($))&&Z($)}))}});return()=>S(D)})};const be=function Pt(V){return R=>new A(L=>{const N=new E(L),D=R.subscribe({complete(){N.complete()},error($){N.error($)},next($){N.schedule(Z=>function(V,R,L,N){return new(L||(L=Promise))(function($,Z){function Et(gt){try{kt(N.next(gt))}catch(Vt){Z(Vt)}}function Ft(gt){try{kt(N.throw(gt))}catch(Vt){Z(Vt)}}function kt(gt){gt.done?$(gt.value):function D($){return $ instanceof L?$:new L(function(Z){Z($)})}(gt.value).then(Et,Ft)}kt((N=N.apply(V,R||[])).next())})}(this,void 0,void 0,function*(){var Et,Ft;const kt=yield V($);if(function ot(V){return V&&z("iterator")&&V[Symbol.iterator]}(kt)||function et(V){return V&&z("asyncIterator")&&V[Symbol.asyncIterator]}(kt))try{for(var Vt,gt=function(V){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var L,R=V[Symbol.asyncIterator];return R?R.call(V):(V="function"==typeof __values?__values(V):V[Symbol.iterator](),L={},N("next"),N("throw"),N("return"),L[Symbol.asyncIterator]=function(){return this},L);function N($){L[$]=V[$]&&function(Z){return new Promise(function(Et,Ft){!function D($,Z,Et,Ft){Promise.resolve(Ft).then(function(kt){$({value:kt,done:Et})},Z)}(Et,Ft,(Z=V[$](Z)).done,Z.value)})}}}(kt);!(Vt=yield gt.next()).done;)Z(Vt.value)}catch(Wi){Et={error:Wi}}finally{try{Vt&&!Vt.done&&(Ft=gt.return)&&(yield Ft.call(gt))}finally{if(Et)throw Et.error}}else kt.map(Wi=>Z(Wi))}))}});return()=>S(D)})};function fe(V){return new x(R=>{let L=0;const N=setInterval(()=>{R.next(L++)},V);return()=>clearInterval(N)})}const pe=function jt(V){return R=>new A(L=>{const N=new E(L),D=R.subscribe({complete(){N.complete()},error($){N.error($)},next($){N.schedule(Z=>function(V,R,L,N){return new(L||(L=Promise))(function($,Z){function Et(gt){try{kt(N.next(gt))}catch(Vt){Z(Vt)}}function Ft(gt){try{kt(N.throw(gt))}catch(Vt){Z(Vt)}}function kt(gt){gt.done?$(gt.value):function D($){return $ instanceof L?$:new L(function(Z){Z($)})}(gt.value).then(Et,Ft)}kt((N=N.apply(V,R||[])).next())})}(this,void 0,void 0,function*(){const Et=yield V($);Z(Et)}))}});return()=>S(D)})},Di=function ti(...V){return 0===V.length?x.from([]):new x(R=>{let L=0;const N=V.map($=>$.subscribe({error(Z){R.error(Z),D()},next(Z){R.next(Z)},complete(){++L===V.length&&(R.complete(),D())}})),D=()=>{N.forEach($=>S($))};return D})},ui=class li extends A{constructor(){super(R=>(this._observers.add(R),()=>this._observers.delete(R))),this._observers=new Set}next(R){for(const L of this._observers)L.next(R)}error(R){for(const L of this._observers)L.error(R)}complete(){for(const R of this._observers)R.complete()}},fn=function Qr(V){const R=new ui;let L,N=0;return new A(D=>{L||(L=V.subscribe(R));const $=R.subscribe(D);return N++,()=>{N--,$.unsubscribe(),0===N&&(S(L),L=void 0)}})};const $e=function Ge(V,R){return L=>new A(N=>{let D,$=0;const Z=new E(N),Et=L.subscribe({complete(){Z.complete()},error(Ft){Z.error(Ft)},next(Ft){Z.schedule(kt=>function(V,R,L,N){return new(L||(L=Promise))(function($,Z){function Et(gt){try{kt(N.next(gt))}catch(Vt){Z(Vt)}}function Ft(gt){try{kt(N.throw(gt))}catch(Vt){Z(Vt)}}function kt(gt){gt.done?$(gt.value):function D($){return $ instanceof L?$:new L(function(Z){Z($)})}(gt.value).then(Et,Ft)}kt((N=N.apply(V,R||[])).next())})}(this,void 0,void 0,function*(){D=yield V(0===$?typeof R>"u"?Ft:R:D,Ft,$++),kt(D)}))}});return()=>S(Et)})}},583:(Ot,M,H)=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.Transfer=M.isTransferDescriptor=void 0;const J=H(727);M.isTransferDescriptor=function k(dt){return dt&&"object"==typeof dt&&dt[J.$transferable]},M.Transfer=function z(dt,yt){if(!yt){if(!function E(dt){return!(!dt||"object"!=typeof dt)}(dt))throw Error();yt=[dt]}return{[J.$transferable]:!0,send:dt,transferables:yt}}},618:function(Ot,M,H){"use strict";var J=this&&this.__awaiter||function(x,A,P,S){return new(P||(P=Promise))(function(I,Q){function et(Wt){try{at(S.next(Wt))}catch(Pt){Q(Pt)}}function ot(Wt){try{at(S.throw(Wt))}catch(Pt){Q(Pt)}}function at(Wt){Wt.done?I(Wt.value):function T(I){return I instanceof P?I:new P(function(Q){Q(I)})}(Wt.value).then(et,ot)}at((S=S.apply(x,A||[])).next())})},E=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(M,"__esModule",{value:!0}),M.spawn=void 0;const k=E(H(282)),z=H(548),dt=H(981),yt=H(7),U=H(727),ct=H(56),j=H(714),it=k.default("threads:master:messages"),nt=k.default("threads:master:spawn"),K=k.default("threads:master:thread-utils"),pt=typeof process<"u"&&process.env.THREADS_WORKER_INIT_TIMEOUT?Number.parseInt(process.env.THREADS_WORKER_INIT_TIMEOUT,10):1e4;function st(x,A,P,S){const T=P.filter(I=>I.type===ct.WorkerEventType.internalError).map(I=>I.error);return Object.assign(x,{[U.$errors]:T,[U.$events]:P,[U.$terminate]:S,[U.$worker]:A})}M.spawn=function ft(x,A){return J(this,void 0,void 0,function*(){nt("Initializing new thread");const P=A&&A.timeout?A.timeout:pt,T=(yield function Bt(x,A,P){return J(this,void 0,void 0,function*(){let S;const T=new Promise((Q,et)=>{S=setTimeout(()=>et(Error(P)),A)}),I=yield Promise.race([x,T]);return clearTimeout(S),I})}(function _t(x){return new Promise((A,P)=>{const S=T=>{it("Message from worker before finishing initialization:",T.data),(x=>x&&"init"===x.type)(T.data)?(x.removeEventListener("message",S),A(T.data)):(x=>x&&"uncaughtError"===x.type)(T.data)&&(x.removeEventListener("message",S),P(dt.deserialize(T.data.error)))};x.addEventListener("message",S)})}(x),P,`Timeout: Did not receive an init message from worker after ${P}ms. Make sure the worker calls expose().`)).exposed,{termination:I,terminate:Q}=function X(x){const[A,P]=yt.createPromiseWithResolver();return{terminate:()=>J(this,void 0,void 0,function*(){K("Terminating worker"),yield x.terminate(),P()}),termination:A}}(x),et=function W(x,A){return new z.Observable(P=>{const S=I=>{P.next({type:ct.WorkerEventType.message,data:I.data})},T=I=>{K("Unhandled promise rejection event in thread:",I);const Q={type:ct.WorkerEventType.internalError,error:Error(I.reason)};P.next(Q)};x.addEventListener("message",S),x.addEventListener("unhandledrejection",T),A.then(()=>{const I={type:ct.WorkerEventType.termination};x.removeEventListener("message",S),x.removeEventListener("unhandledrejection",T),P.next(I),P.complete()})})}(x,I);if("function"===T.type)return st(j.createProxyFunction(x),x,et,Q);if("module"===T.type)return st(j.createProxyModule(x,T.methods),x,et,Q);throw Error(`Worker init message states unexpected type of expose(): ${T.type}`)})}},639:(Ot,M)=>{"use strict";var J=function(){function E(k){if(!k)throw new TypeError("Invalid argument; `value` has no value.");this.value=E.EMPTY,k&&E.isGuid(k)&&(this.value=k)}return E.isGuid=function(k){var z=k.toString();return k&&(k instanceof E||E.validator.test(z))},E.create=function(){return new E([E.gen(2),E.gen(1),E.gen(1),E.gen(1),E.gen(3)].join("-"))},E.createEmpty=function(){return new E("emptyguid")},E.parse=function(k){return new E(k)},E.raw=function(){return[E.gen(2),E.gen(1),E.gen(1),E.gen(1),E.gen(3)].join("-")},E.gen=function(k){for(var z="",dt=0;dt<k;dt++)z+=(65536*(1+Math.random())|0).toString(16).substring(1);return z},E.prototype.equals=function(k){return E.isGuid(k)&&this.value===k.toString()},E.prototype.isEmpty=function(){return this.value===E.EMPTY},E.prototype.toString=function(){return this.value},E.prototype.toJSON=function(){return{value:this.value}},E.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),E.EMPTY="00000000-0000-0000-0000-000000000000",E}();M.q=J},714:function(Ot,M,H){"use strict";var J=this&&this.__importDefault||function(W){return W&&W.__esModule?W:{default:W}};Object.defineProperty(M,"__esModule",{value:!0}),M.createProxyModule=M.createProxyFunction=void 0;const E=J(H(282)),k=H(548),z=H(981),dt=H(737),yt=H(583),U=H(254),ct=E.default("threads:master:messages");let j=1;const it=W=>Array.from(new Set(W));function Bt(W,X){return(...st)=>{const ft=j++,{args:x,transferables:A}=function pt(W){if(0===W.length)return{args:[],transferables:[]};const X=[],st=[];for(const ft of W)yt.isTransferDescriptor(ft)?(X.push(z.serialize(ft.send)),st.push(...ft.transferables)):X.push(z.serialize(ft));return{args:X,transferables:0===st.length?st:it(st)}}(st),P={type:U.MasterMessageType.run,uid:ft,method:X,args:x};ct("Sending command to run function to worker:",P);try{W.postMessage(P,A)}catch(S){return dt.ObservablePromise.from(Promise.reject(S))}return dt.ObservablePromise.from(k.multicast(function wt(W,X){return new k.Observable(st=>{let ft;const x=A=>{if(ct("Message from worker:",A.data),A.data&&A.data.uid===X)if((W=>W&&W.type===U.WorkerMessageType.running)(A.data))ft=A.data.resultType;else if((W=>W&&W.type===U.WorkerMessageType.result)(A.data))"promise"===ft?(typeof A.data.payload<"u"&&st.next(z.deserialize(A.data.payload)),st.complete(),W.removeEventListener("message",x)):(A.data.payload&&st.next(z.deserialize(A.data.payload)),A.data.complete&&(st.complete(),W.removeEventListener("message",x)));else if((W=>W&&W.type===U.WorkerMessageType.error)(A.data)){const P=z.deserialize(A.data.error);st.error(P),W.removeEventListener("message",x)}};return W.addEventListener("message",x),()=>{"observable"!==ft&&ft||W.postMessage({type:U.MasterMessageType.cancel,uid:X}),W.removeEventListener("message",x)}})}(W,ft)))}}M.createProxyFunction=Bt,M.createProxyModule=function _t(W,X){const st={};for(const ft of X)st[ft]=Bt(W,ft);return st}},723:(Ot,M)=>{"use strict";var J;Object.defineProperty(M,"__esModule",{value:!0}),M.PoolEventType=void 0,(J=M.PoolEventType||(M.PoolEventType={})).initialized="initialized",J.taskCanceled="taskCanceled",J.taskCompleted="taskCompleted",J.taskFailed="taskFailed",J.taskQueued="taskQueued",J.taskQueueDrained="taskQueueDrained",J.taskStart="taskStart",J.terminated="terminated"},727:(Ot,M)=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.$worker=M.$transferable=M.$terminate=M.$events=M.$errors=void 0,M.$errors=Symbol("thread.errors"),M.$events=Symbol("thread.events"),M.$terminate=Symbol("thread.terminate"),M.$transferable=Symbol("thread.transferable"),M.$worker=Symbol("thread.worker")},737:(Ot,M,H)=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.ObservablePromise=void 0;const J=H(548),E=()=>{},k=ct=>ct,z=ct=>Promise.resolve().then(ct);function dt(ct){throw ct}class U extends J.Observable{constructor(j){super(it=>{const nt=this,K=Object.assign(Object.assign({},it),{complete(){it.complete(),nt.onCompletion()},error(tt){it.error(tt),nt.onError(tt)},next(tt){it.next(tt),nt.onNext(tt)}});try{return this.initHasRun=!0,j(K)}catch(tt){K.error(tt)}}),this.initHasRun=!1,this.fulfillmentCallbacks=[],this.rejectionCallbacks=[],this.firstValueSet=!1,this.state="pending"}onNext(j){this.firstValueSet||(this.firstValue=j,this.firstValueSet=!0)}onError(j){this.state="rejected",this.rejection=j;for(const it of this.rejectionCallbacks)z(()=>it(j))}onCompletion(){this.state="fulfilled";for(const j of this.fulfillmentCallbacks)z(()=>j(this.firstValue))}then(j,it){const nt=j||k,K=it||dt;let tt=!1;return new Promise((wt,pt)=>{const Bt=W=>{if(!tt){tt=!0;try{wt(K(W))}catch(X){pt(X)}}};return this.initHasRun||this.subscribe({error:Bt}),"fulfilled"===this.state?wt(nt(this.firstValue)):"rejected"===this.state?(tt=!0,wt(K(this.rejection))):(this.fulfillmentCallbacks.push(W=>{try{wt(nt(W))}catch(X){Bt(X)}}),void this.rejectionCallbacks.push(Bt))})}catch(j){return this.then(void 0,j)}finally(j){const it=j||E;return this.then(nt=>(it(),nt),()=>it())}static from(j){return function yt(ct){return ct&&"function"==typeof ct.then}(j)?new U(it=>{j.then(tt=>{it.next(tt),it.complete()},tt=>{it.error(tt)})}):super.from(j)}}M.ObservablePromise=U},741:(Ot,M,H)=>{Ot.exports=function J(E){function z(K){let tt,pt,Bt,wt=null;function _t(...W){if(!_t.enabled)return;const X=_t,st=Number(new Date);X.diff=st-(tt||st),X.prev=tt,X.curr=st,tt=st,W[0]=z.coerce(W[0]),"string"!=typeof W[0]&&W.unshift("%O");let x=0;W[0]=W[0].replace(/%([a-zA-Z%])/g,(P,S)=>{if("%%"===P)return"%";x++;const T=z.formatters[S];return"function"==typeof T&&(P=T.call(X,W[x]),W.splice(x,1),x--),P}),z.formatArgs.call(X,W),(X.log||z.log).apply(X,W)}return _t.namespace=K,_t.useColors=z.useColors(),_t.color=z.selectColor(K),_t.extend=dt,_t.destroy=z.destroy,Object.defineProperty(_t,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==wt?wt:(pt!==z.namespaces&&(pt=z.namespaces,Bt=z.enabled(K)),Bt),set:W=>{wt=W}}),"function"==typeof z.init&&z.init(_t),_t}function dt(K,tt){const wt=z(this.namespace+(typeof tt>"u"?":":tt)+K);return wt.log=this.log,wt}function U(K,tt){let wt=0,pt=0,Bt=-1,_t=0;for(;wt<K.length;)if(pt<tt.length&&(tt[pt]===K[wt]||"*"===tt[pt]))"*"===tt[pt]?(Bt=pt,_t=wt,pt++):(wt++,pt++);else{if(-1===Bt)return!1;pt=Bt+1,_t++,wt=_t}for(;pt<tt.length&&"*"===tt[pt];)pt++;return pt===tt.length}return z.debug=z,z.default=z,z.coerce=function it(K){return K instanceof Error?K.stack||K.message:K},z.disable=function ct(){const K=[...z.names,...z.skips.map(tt=>"-"+tt)].join(",");return z.enable(""),K},z.enable=function yt(K){z.save(K),z.namespaces=K,z.names=[],z.skips=[];const tt=("string"==typeof K?K:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const wt of tt)"-"===wt[0]?z.skips.push(wt.slice(1)):z.names.push(wt)},z.enabled=function j(K){for(const tt of z.skips)if(U(K,tt))return!1;for(const tt of z.names)if(U(K,tt))return!0;return!1},z.humanize=H(244),z.destroy=function nt(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(E).forEach(K=>{z[K]=E[K]}),z.names=[],z.skips=[],z.formatters={},z.selectColor=function k(K){let tt=0;for(let wt=0;wt<K.length;wt++)tt=(tt<<5)-tt+K.charCodeAt(wt),tt|=0;return z.colors[Math.abs(tt)%z.colors.length]},z.enable(z.load()),z}},814:Ot=>{"use strict";Ot.exports=M=>!!M&&("symbol"==typeof Symbol.observable&&"function"==typeof M[Symbol.observable]?M===M[Symbol.observable]():"function"==typeof M["@@observable"]&&M===M["@@observable"]())},846:function(Ot,M,H){var J;!function(){"use strict";var k,yt=1e6,U=1e6,it="[big.js] ",nt=it+"Invalid ",K=nt+"decimal places",tt=nt+"rounding mode",wt=it+"Division by zero",pt={},Bt=void 0,_t=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function st(x,A,P,S){var T=x.c,I=x.e+A+1;if(I<T.length){if(1===P)S=T[I]>=5;else if(2===P)S=T[I]>5||5==T[I]&&(S||I<0||T[I+1]!==Bt||1&T[I-1]);else if(3===P)S=S||!!T[0];else if(S=!1,0!==P)throw Error(tt);if(I<1)T.length=1,S?(x.e=-A,T[0]=1):T[0]=x.e=0;else{if(T.length=I--,S)for(;++T[I]>9;)T[I]=0,I--||(++x.e,T.unshift(1));for(I=T.length;!T[--I];)T.pop()}}else if(P<0||P>3||P!==~~P)throw Error(tt);return x}function ft(x,A,P,S){var T,I,Q=x.constructor,et=!x.c[0];if(P!==Bt){if(P!==~~P||P<(3==A)||P>yt)throw Error(3==A?nt+"precision":K);for(P=S-(x=new Q(x)).e,x.c.length>++S&&st(x,P,Q.RM),2==A&&(S=x.e+P+1);x.c.length<S;)x.c.push(0)}if(T=x.e,P=(I=x.c.join("")).length,2!=A&&(1==A||3==A&&S<=T||T<=Q.NE||T>=Q.PE))I=I.charAt(0)+(P>1?"."+I.slice(1):"")+(T<0?"e":"e+")+T;else if(T<0){for(;++T;)I="0"+I;I="0."+I}else if(T>0)if(++T>P)for(T-=P;T--;)I+="0";else T<P&&(I=I.slice(0,T)+"."+I.slice(T));else P>1&&(I=I.charAt(0)+"."+I.slice(1));return x.s<0&&(!et||4==A)?"-"+I:I}pt.abs=function(){var x=new this.constructor(this);return x.s=1,x},pt.cmp=function(x){var A,P=this,S=P.c,T=(x=new P.constructor(x)).c,I=P.s,Q=x.s,et=P.e,ot=x.e;if(!S[0]||!T[0])return S[0]?I:T[0]?-Q:0;if(I!=Q)return I;if(A=I<0,et!=ot)return et>ot^A?1:-1;for(Q=(et=S.length)<(ot=T.length)?et:ot,I=-1;++I<Q;)if(S[I]!=T[I])return S[I]>T[I]^A?1:-1;return et==ot?0:et>ot^A?1:-1},pt.div=function(x){var A=this,P=A.constructor,S=A.c,T=(x=new P(x)).c,I=A.s==x.s?1:-1,Q=P.DP;if(Q!==~~Q||Q<0||Q>yt)throw Error(K);if(!T[0])throw Error(wt);if(!S[0])return new P(0*I);var et,ot,at,Wt,Pt,be=T.slice(),fe=et=T.length,ee=S.length,jt=S.slice(0,et),pe=jt.length,ti=x,Di=ti.c=[],li=0,ui=Q+(ti.e=A.e-x.e)+1;for(ti.s=I,I=ui<0?0:ui,be.unshift(0);pe++<et;)jt.push(0);do{for(at=0;at<10;at++){if(et!=(pe=jt.length))Wt=et>pe?1:-1;else for(Pt=-1,Wt=0;++Pt<et;)if(T[Pt]!=jt[Pt]){Wt=T[Pt]>jt[Pt]?1:-1;break}if(!(Wt<0))break;for(ot=pe==et?T:be;pe;){if(jt[--pe]<ot[pe]){for(Pt=pe;Pt&&!jt[--Pt];)jt[Pt]=9;--jt[Pt],jt[pe]+=10}jt[pe]-=ot[pe]}for(;!jt[0];)jt.shift()}Di[li++]=Wt?at:++at,jt[0]&&Wt?jt[pe]=S[fe]||0:jt=[S[fe]]}while((fe++<ee||jt[0]!==Bt)&&I--);return!Di[0]&&1!=li&&(Di.shift(),ti.e--),li>ui&&st(ti,Q,P.RM,jt[0]!==Bt),ti},pt.eq=function(x){return!this.cmp(x)},pt.gt=function(x){return this.cmp(x)>0},pt.gte=function(x){return this.cmp(x)>-1},pt.lt=function(x){return this.cmp(x)<0},pt.lte=function(x){return this.cmp(x)<1},pt.minus=pt.sub=function(x){var A,P,S,T,I=this,Q=I.constructor,et=I.s,ot=(x=new Q(x)).s;if(et!=ot)return x.s=-ot,I.plus(x);var at=I.c.slice(),Wt=I.e,Pt=x.c,be=x.e;if(!at[0]||!Pt[0])return Pt[0]?(x.s=-ot,x):new Q(at[0]?I:0);if(et=Wt-be){for((T=et<0)?(et=-et,S=at):(be=Wt,S=Pt),S.reverse(),ot=et;ot--;)S.push(0);S.reverse()}else for(P=((T=at.length<Pt.length)?at:Pt).length,et=ot=0;ot<P;ot++)if(at[ot]!=Pt[ot]){T=at[ot]<Pt[ot];break}if(T&&(S=at,at=Pt,Pt=S,x.s=-x.s),(ot=(P=Pt.length)-(A=at.length))>0)for(;ot--;)at[A++]=0;for(ot=A;P>et;){if(at[--P]<Pt[P]){for(A=P;A&&!at[--A];)at[A]=9;--at[A],at[P]+=10}at[P]-=Pt[P]}for(;0===at[--ot];)at.pop();for(;0===at[0];)at.shift(),--be;return at[0]||(x.s=1,at=[be=0]),x.c=at,x.e=be,x},pt.mod=function(x){var A,P=this,S=P.constructor,T=P.s,I=(x=new S(x)).s;if(!x.c[0])throw Error(wt);return P.s=x.s=1,A=1==x.cmp(P),P.s=T,x.s=I,A?new S(P):(T=S.DP,I=S.RM,S.DP=S.RM=0,P=P.div(x),S.DP=T,S.RM=I,this.minus(P.times(x)))},pt.plus=pt.add=function(x){var A,P=this,S=P.constructor,T=P.s,I=(x=new S(x)).s;if(T!=I)return x.s=-I,P.minus(x);var Q=P.e,et=P.c,ot=x.e,at=x.c;if(!et[0]||!at[0])return at[0]?x:new S(et[0]?P:0*T);if(et=et.slice(),T=Q-ot){for(T>0?(ot=Q,A=at):(T=-T,A=et),A.reverse();T--;)A.push(0);A.reverse()}for(et.length-at.length<0&&(A=at,at=et,et=A),T=at.length,I=0;T;et[T]%=10)I=(et[--T]=et[T]+at[T]+I)/10|0;for(I&&(et.unshift(I),++ot),T=et.length;0===et[--T];)et.pop();return x.c=et,x.e=ot,x},pt.pow=function(x){var A=this,P=new A.constructor(1),S=P,T=x<0;if(x!==~~x||x<-U||x>U)throw Error(nt+"exponent");for(T&&(x=-x);1&x&&(S=S.times(A)),x>>=1;)A=A.times(A);return T?P.div(S):S},pt.round=function(x,A){var P=this.constructor;if(x===Bt)x=0;else if(x!==~~x||x<-yt||x>yt)throw Error(K);return st(new P(this),x,A===Bt?P.RM:A)},pt.sqrt=function(){var x,A,P,S=this,T=S.constructor,I=S.s,Q=S.e,et=new T(.5);if(!S.c[0])return new T(S);if(I<0)throw Error(it+"No square root");0===(I=Math.sqrt(S+""))||I===1/0?((A=S.c.join("")).length+Q&1||(A+="0"),Q=((Q+1)/2|0)-(Q<0||1&Q),x=new T(((I=Math.sqrt(A))==1/0?"1e":(I=I.toExponential()).slice(0,I.indexOf("e")+1))+Q)):x=new T(I),Q=x.e+(T.DP+=4);do{x=et.times((P=x).plus(S.div(P)))}while(P.c.slice(0,Q).join("")!==x.c.slice(0,Q).join(""));return st(x,T.DP-=4,T.RM)},pt.times=pt.mul=function(x){var A,P=this,S=P.constructor,T=P.c,I=(x=new S(x)).c,Q=T.length,et=I.length,ot=P.e,at=x.e;if(x.s=P.s==x.s?1:-1,!T[0]||!I[0])return new S(0*x.s);for(x.e=ot+at,Q<et&&(A=T,T=I,I=A,at=Q,Q=et,et=at),A=new Array(at=Q+et);at--;)A[at]=0;for(ot=et;ot--;){for(et=0,at=Q+ot;at>ot;)et=A[at]+I[ot]*T[at-ot-1]+et,A[at--]=et%10,et=et/10|0;A[at]=(A[at]+et)%10}for(et?++x.e:A.shift(),ot=A.length;!A[--ot];)A.pop();return x.c=A,x},pt.toExponential=function(x){return ft(this,1,x,x)},pt.toFixed=function(x){return ft(this,2,x,this.e+x)},pt.toPrecision=function(x){return ft(this,3,x,x-1)},pt.toString=function(){return ft(this)},pt.valueOf=pt.toJSON=function(){return ft(this,4)},(k=function W(){function x(A){var P=this;if(!(P instanceof x))return A===Bt?W():new x(A);A instanceof x?(P.s=A.s,P.e=A.e,P.c=A.c.slice()):function X(x,A){var P,S,T;if(0===A&&1/A<0)A="-0";else if(!_t.test(A+=""))throw Error(nt+"number");for(x.s="-"==A.charAt(0)?(A=A.slice(1),-1):1,(P=A.indexOf("."))>-1&&(A=A.replace(".","")),(S=A.search(/e/i))>0?(P<0&&(P=S),P+=+A.slice(S+1),A=A.substring(0,S)):P<0&&(P=A.length),T=A.length,S=0;S<T&&"0"==A.charAt(S);)++S;if(S==T)x.c=[x.e=0];else{for(;T>0&&"0"==A.charAt(--T););for(x.e=P-S-1,x.c=[],P=0;S<=T;)x.c[P++]=+A.charAt(S++)}}(P,A),P.constructor=x}return x.prototype=pt,x.DP=20,x.RM=1,x.NE=-7,x.PE=21,x.version="5.2.2",x}()).default=k.Big=k,void 0!==(J=function(){return k}.call(M,H,M,Ot))&&(Ot.exports=J)}()},885:(Ot,M,H)=>{"use strict";function J(r,t,e,i,n,s,o){try{var a=r[s](o),c=a.value}catch(h){return void e(h)}a.done?t(c):Promise.resolve(c).then(i,n)}function z(r){return"function"==typeof r}function dt(r){const e=r(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}H.d(M,{GKc:()=>F0}),H(639);const yt=dt(r=>function(e){r(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,n)=>`${n+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function U(r,t){if(r){const e=r.indexOf(t);0<=e&&r.splice(e,1)}}class ct{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(z(i))try{i()}catch(s){t=s instanceof yt?s.errors:[s]}const{_finalizers:n}=this;if(n){this._finalizers=null;for(const s of n)try{nt(s)}catch(o){t=t??[],o instanceof yt?t=[...t,...o.errors]:t.push(o)}}if(t)throw new yt(t)}}add(t){var e;if(t&&t!==this)if(this.closed)nt(t);else{if(t instanceof ct){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&U(e,t)}remove(t){const{_finalizers:e}=this;e&&U(e,t),t instanceof ct&&t._removeParent(this)}}function it(r){return r instanceof ct||r&&"closed"in r&&z(r.remove)&&z(r.add)&&z(r.unsubscribe)}function nt(r){z(r)?r():r.unsubscribe()}ct.EMPTY=(()=>{const r=new ct;return r.closed=!0,r})();const K={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},tt={setTimeout(r,t,...e){const{delegate:i}=tt;return i?.setTimeout?i.setTimeout(r,t,...e):setTimeout(r,t,...e)},clearTimeout(r){const{delegate:t}=tt;return(t?.clearTimeout||clearTimeout)(r)},delegate:void 0};function pt(){}const Bt=X("C",void 0,void 0);function X(r,t,e){return{kind:r,value:t,error:e}}let st=null;class A extends ct{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,it(t)&&t.add(this)):this.destination=at}static create(t,e,i){return new I(t,e,i)}next(t){this.isStopped?ot(function W(r){return X("N",r,void 0)}(t),this):this._next(t)}error(t){this.isStopped?ot(function _t(r){return X("E",void 0,r)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?ot(Bt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const P=Function.prototype.bind;function S(r,t){return P.call(r,t)}class T{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){Q(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){Q(i)}else Q(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){Q(e)}}}class I extends A{constructor(t,e,i){let n;if(super(),z(t)||!t)n={next:t??void 0,error:e??void 0,complete:i??void 0};else{let s;this&&K.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),n={next:t.next&&S(t.next,s),error:t.error&&S(t.error,s),complete:t.complete&&S(t.complete,s)}):n=t}this.destination=new T(n)}}function Q(r){K.useDeprecatedSynchronousErrorHandling?function x(r){K.useDeprecatedSynchronousErrorHandling&&st&&(st.errorThrown=!0,st.error=r)}(r):function wt(r){tt.setTimeout(()=>{const{onUnhandledError:t}=K;if(!t)throw r;t(r)})}(r)}function ot(r,t){const{onStoppedNotification:e}=K;e&&tt.setTimeout(()=>e(r,t))}const at={closed:!0,next:pt,error:function et(r){throw r},complete:pt},Wt="function"==typeof Symbol&&Symbol.observable||"@@observable";function Pt(r){return r}let ee=(()=>{class r{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new r;return i.source=this,i.operator=e,i}subscribe(e,i,n){const s=function ti(r){return r&&r instanceof A||function pe(r){return r&&z(r.next)&&z(r.error)&&z(r.complete)}(r)&&it(r)}(e)?e:new I(e,i,n);return function ft(r){if(K.useDeprecatedSynchronousErrorHandling){const t=!st;if(t&&(st={errorThrown:!1,error:null}),r(),t){const{errorThrown:e,error:i}=st;if(st=null,e)throw i}}else r()}(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=jt(i))((n,s)=>{const o=new I({next:a=>{try{e(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:n});this.subscribe(o)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[Wt](){return this}pipe(...e){return function fe(r){return 0===r.length?Pt:1===r.length?r[0]:function(e){return r.reduce((i,n)=>n(i),e)}}(e)(this)}toPromise(e){return new(e=jt(e))((i,n)=>{let s;this.subscribe(o=>s=o,o=>n(o),()=>i(s))})}}return r.create=t=>new r(t),r})();function jt(r){var t;return null!==(t=r??K.Promise)&&void 0!==t?t:Promise}dt(r=>function(){r(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}),dt(r=>function(){r(this),this.name="EmptyError",this.message="no elements in sequence"}),"function"==typeof SuppressedError&&SuppressedError,function Ou(){"function"==typeof Symbol&&Symbol.iterator&&Symbol}(),new ee(r=>r.complete());class ne{constructor(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashStr(t,e=!1){return this.onePassHasher.start().appendStr(t).end(e)}static hashAsciiStr(t,e=!1){return this.onePassHasher.start().appendAsciiStr(t).end(e)}static _hex(t){const e=ne.hexChars,i=ne.hexOut;let n,s,o,a;for(a=0;a<4;a+=1)for(s=8*a,n=t[a],o=0;o<8;o+=2)i[s+1+o]=e.charAt(15&n),n>>>=4,i[s+0+o]=e.charAt(15&n),n>>>=4;return i.join("")}static _md5cycle(t,e){let i=t[0],n=t[1],s=t[2],o=t[3];i+=(n&s|~n&o)+e[0]-680876936|0,i=(i<<7|i>>>25)+n|0,o+=(i&n|~i&s)+e[1]-389564586|0,o=(o<<12|o>>>20)+i|0,s+=(o&i|~o&n)+e[2]+606105819|0,s=(s<<17|s>>>15)+o|0,n+=(s&o|~s&i)+e[3]-1044525330|0,n=(n<<22|n>>>10)+s|0,i+=(n&s|~n&o)+e[4]-176418897|0,i=(i<<7|i>>>25)+n|0,o+=(i&n|~i&s)+e[5]+1200080426|0,o=(o<<12|o>>>20)+i|0,s+=(o&i|~o&n)+e[6]-1473231341|0,s=(s<<17|s>>>15)+o|0,n+=(s&o|~s&i)+e[7]-45705983|0,n=(n<<22|n>>>10)+s|0,i+=(n&s|~n&o)+e[8]+1770035416|0,i=(i<<7|i>>>25)+n|0,o+=(i&n|~i&s)+e[9]-1958414417|0,o=(o<<12|o>>>20)+i|0,s+=(o&i|~o&n)+e[10]-42063|0,s=(s<<17|s>>>15)+o|0,n+=(s&o|~s&i)+e[11]-1990404162|0,n=(n<<22|n>>>10)+s|0,i+=(n&s|~n&o)+e[12]+1804603682|0,i=(i<<7|i>>>25)+n|0,o+=(i&n|~i&s)+e[13]-40341101|0,o=(o<<12|o>>>20)+i|0,s+=(o&i|~o&n)+e[14]-1502002290|0,s=(s<<17|s>>>15)+o|0,n+=(s&o|~s&i)+e[15]+1236535329|0,n=(n<<22|n>>>10)+s|0,i+=(n&o|s&~o)+e[1]-165796510|0,i=(i<<5|i>>>27)+n|0,o+=(i&s|n&~s)+e[6]-1069501632|0,o=(o<<9|o>>>23)+i|0,s+=(o&n|i&~n)+e[11]+643717713|0,s=(s<<14|s>>>18)+o|0,n+=(s&i|o&~i)+e[0]-373897302|0,n=(n<<20|n>>>12)+s|0,i+=(n&o|s&~o)+e[5]-701558691|0,i=(i<<5|i>>>27)+n|0,o+=(i&s|n&~s)+e[10]+38016083|0,o=(o<<9|o>>>23)+i|0,s+=(o&n|i&~n)+e[15]-660478335|0,s=(s<<14|s>>>18)+o|0,n+=(s&i|o&~i)+e[4]-405537848|0,n=(n<<20|n>>>12)+s|0,i+=(n&o|s&~o)+e[9]+568446438|0,i=(i<<5|i>>>27)+n|0,o+=(i&s|n&~s)+e[14]-1019803690|0,o=(o<<9|o>>>23)+i|0,s+=(o&n|i&~n)+e[3]-187363961|0,s=(s<<14|s>>>18)+o|0,n+=(s&i|o&~i)+e[8]+1163531501|0,n=(n<<20|n>>>12)+s|0,i+=(n&o|s&~o)+e[13]-1444681467|0,i=(i<<5|i>>>27)+n|0,o+=(i&s|n&~s)+e[2]-51403784|0,o=(o<<9|o>>>23)+i|0,s+=(o&n|i&~n)+e[7]+1735328473|0,s=(s<<14|s>>>18)+o|0,n+=(s&i|o&~i)+e[12]-1926607734|0,n=(n<<20|n>>>12)+s|0,i+=(n^s^o)+e[5]-378558|0,i=(i<<4|i>>>28)+n|0,o+=(i^n^s)+e[8]-2022574463|0,o=(o<<11|o>>>21)+i|0,s+=(o^i^n)+e[11]+1839030562|0,s=(s<<16|s>>>16)+o|0,n+=(s^o^i)+e[14]-35309556|0,n=(n<<23|n>>>9)+s|0,i+=(n^s^o)+e[1]-1530992060|0,i=(i<<4|i>>>28)+n|0,o+=(i^n^s)+e[4]+1272893353|0,o=(o<<11|o>>>21)+i|0,s+=(o^i^n)+e[7]-155497632|0,s=(s<<16|s>>>16)+o|0,n+=(s^o^i)+e[10]-1094730640|0,n=(n<<23|n>>>9)+s|0,i+=(n^s^o)+e[13]+681279174|0,i=(i<<4|i>>>28)+n|0,o+=(i^n^s)+e[0]-358537222|0,o=(o<<11|o>>>21)+i|0,s+=(o^i^n)+e[3]-722521979|0,s=(s<<16|s>>>16)+o|0,n+=(s^o^i)+e[6]+76029189|0,n=(n<<23|n>>>9)+s|0,i+=(n^s^o)+e[9]-640364487|0,i=(i<<4|i>>>28)+n|0,o+=(i^n^s)+e[12]-421815835|0,o=(o<<11|o>>>21)+i|0,s+=(o^i^n)+e[15]+530742520|0,s=(s<<16|s>>>16)+o|0,n+=(s^o^i)+e[2]-995338651|0,n=(n<<23|n>>>9)+s|0,i+=(s^(n|~o))+e[0]-198630844|0,i=(i<<6|i>>>26)+n|0,o+=(n^(i|~s))+e[7]+1126891415|0,o=(o<<10|o>>>22)+i|0,s+=(i^(o|~n))+e[14]-1416354905|0,s=(s<<15|s>>>17)+o|0,n+=(o^(s|~i))+e[5]-57434055|0,n=(n<<21|n>>>11)+s|0,i+=(s^(n|~o))+e[12]+1700485571|0,i=(i<<6|i>>>26)+n|0,o+=(n^(i|~s))+e[3]-1894986606|0,o=(o<<10|o>>>22)+i|0,s+=(i^(o|~n))+e[10]-1051523|0,s=(s<<15|s>>>17)+o|0,n+=(o^(s|~i))+e[1]-2054922799|0,n=(n<<21|n>>>11)+s|0,i+=(s^(n|~o))+e[8]+1873313359|0,i=(i<<6|i>>>26)+n|0,o+=(n^(i|~s))+e[15]-30611744|0,o=(o<<10|o>>>22)+i|0,s+=(i^(o|~n))+e[6]-1560198380|0,s=(s<<15|s>>>17)+o|0,n+=(o^(s|~i))+e[13]+1309151649|0,n=(n<<21|n>>>11)+s|0,i+=(s^(n|~o))+e[4]-145523070|0,i=(i<<6|i>>>26)+n|0,o+=(n^(i|~s))+e[11]-1120210379|0,o=(o<<10|o>>>22)+i|0,s+=(i^(o|~n))+e[2]+718787259|0,s=(s<<15|s>>>17)+o|0,n+=(o^(s|~i))+e[9]-343485551|0,n=(n<<21|n>>>11)+s|0,t[0]=i+t[0]|0,t[1]=n+t[1]|0,t[2]=s+t[2]|0,t[3]=o+t[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(ne.stateIdentity),this}appendStr(t){const e=this._buffer8,i=this._buffer32;let s,o,n=this._bufferLength;for(o=0;o<t.length;o+=1){if(s=t.charCodeAt(o),s<128)e[n++]=s;else if(s<2048)e[n++]=192+(s>>>6),e[n++]=63&s|128;else if(s<55296||s>56319)e[n++]=224+(s>>>12),e[n++]=s>>>6&63|128,e[n++]=63&s|128;else{if(s=1024*(s-55296)+(t.charCodeAt(++o)-56320)+65536,s>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");e[n++]=240+(s>>>18),e[n++]=s>>>12&63|128,e[n++]=s>>>6&63|128,e[n++]=63&s|128}n>=64&&(this._dataLength+=64,ne._md5cycle(this._state,i),n-=64,i[0]=i[16])}return this._bufferLength=n,this}appendAsciiStr(t){const e=this._buffer8,i=this._buffer32;let s,n=this._bufferLength,o=0;for(;;){for(s=Math.min(t.length-o,64-n);s--;)e[n++]=t.charCodeAt(o++);if(n<64)break;this._dataLength+=64,ne._md5cycle(this._state,i),n=0}return this._bufferLength=n,this}appendByteArray(t){const e=this._buffer8,i=this._buffer32;let s,n=this._bufferLength,o=0;for(;;){for(s=Math.min(t.length-o,64-n);s--;)e[n++]=t[o++];if(n<64)break;this._dataLength+=64,ne._md5cycle(this._state,i),n=0}return this._bufferLength=n,this}getState(){const t=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[t[0],t[1],t[2],t[3]]}}setState(t){const e=t.buffer,i=t.state,n=this._state;let s;for(this._dataLength=t.length,this._bufferLength=t.buflen,n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],s=0;s<e.length;s+=1)this._buffer8[s]=e.charCodeAt(s)}end(t=!1){const e=this._bufferLength,i=this._buffer8,n=this._buffer32,s=1+(e>>2);this._dataLength+=e;const o=8*this._dataLength;if(i[e]=128,i[e+1]=i[e+2]=i[e+3]=0,n.set(ne.buffer32Identity.subarray(s),s),e>55&&(ne._md5cycle(this._state,n),n.set(ne.buffer32Identity)),o<=4294967295)n[14]=o;else{const a=o.toString(16).match(/(.*?)(.{0,8})$/);if(null===a)return;const c=parseInt(a[2],16),h=parseInt(a[1],16)||0;n[14]=c,n[15]=h}return ne._md5cycle(this._state,n),t?this._state:ne._hex(this._state)}}if(ne.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),ne.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),ne.hexChars="0123456789abcdef",ne.hexOut=[],ne.onePassHasher=new ne,"5d41402abc4b2a76b9719d911017c592"!==ne.hashStr("hello"))throw new Error("Md5 self test failed.");const ke="srgb",Gc="srgb-linear",xo="srgb";function vt(r,t,e){return Math.max(t,Math.min(e,r))}function Jn(r,t,e){return(1-e)*r+e*t}Math,Math,Symbol;class Gt{constructor(t=0,e=0,i=0,n=1){this.isQuaternion=!0,this._x=t,this._y=e,this._z=i,this._w=n}static slerpFlat(t,e,i,n,s,o,a){let c=i[n+0],h=i[n+1],l=i[n+2],u=i[n+3];const d=s[o+0],f=s[o+1],p=s[o+2],m=s[o+3];if(0===a)return t[e+0]=c,t[e+1]=h,t[e+2]=l,void(t[e+3]=u);if(1===a)return t[e+0]=d,t[e+1]=f,t[e+2]=p,void(t[e+3]=m);if(u!==m||c!==d||h!==f||l!==p){let y=1-a;const g=c*d+h*f+l*p+u*m,_=g>=0?1:-1,b=1-g*g;if(b>Number.EPSILON){const C=Math.sqrt(b),F=Math.atan2(C,g*_);y=Math.sin(y*F)/C,a=Math.sin(a*F)/C}const v=a*_;if(c=c*y+d*v,h=h*y+f*v,l=l*y+p*v,u=u*y+m*v,y===1-a){const C=1/Math.sqrt(c*c+h*h+l*l+u*u);c*=C,h*=C,l*=C,u*=C}}t[e]=c,t[e+1]=h,t[e+2]=l,t[e+3]=u}static multiplyQuaternionsFlat(t,e,i,n,s,o){const a=i[n],c=i[n+1],h=i[n+2],l=i[n+3],u=s[o],d=s[o+1],f=s[o+2],p=s[o+3];return t[e]=a*p+l*u+c*f-h*d,t[e+1]=c*p+l*d+h*u-a*f,t[e+2]=h*p+l*f+a*d-c*u,t[e+3]=l*p-a*u-c*d-h*f,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,i,n){return this._x=t,this._y=e,this._z=i,this._w=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e=!0){const i=t._x,n=t._y,s=t._z,o=t._order,a=Math.cos,c=Math.sin,h=a(i/2),l=a(n/2),u=a(s/2),d=c(i/2),f=c(n/2),p=c(s/2);switch(o){case"XYZ":this._x=d*l*u+h*f*p,this._y=h*f*u-d*l*p,this._z=h*l*p+d*f*u,this._w=h*l*u-d*f*p;break;case"YXZ":this._x=d*l*u+h*f*p,this._y=h*f*u-d*l*p,this._z=h*l*p-d*f*u,this._w=h*l*u+d*f*p;break;case"ZXY":this._x=d*l*u-h*f*p,this._y=h*f*u+d*l*p,this._z=h*l*p+d*f*u,this._w=h*l*u-d*f*p;break;case"ZYX":this._x=d*l*u-h*f*p,this._y=h*f*u+d*l*p,this._z=h*l*p-d*f*u,this._w=h*l*u+d*f*p;break;case"YZX":this._x=d*l*u+h*f*p,this._y=h*f*u+d*l*p,this._z=h*l*p-d*f*u,this._w=h*l*u-d*f*p;break;case"XZY":this._x=d*l*u-h*f*p,this._y=h*f*u-d*l*p,this._z=h*l*p+d*f*u,this._w=h*l*u+d*f*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!0===e&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const i=e/2,n=Math.sin(i);return this._x=t.x*n,this._y=t.y*n,this._z=t.z*n,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,i=e[0],n=e[4],s=e[8],o=e[1],a=e[5],c=e[9],h=e[2],l=e[6],u=e[10],d=i+a+u;if(d>0){const f=.5/Math.sqrt(d+1);this._w=.25/f,this._x=(l-c)*f,this._y=(s-h)*f,this._z=(o-n)*f}else if(i>a&&i>u){const f=2*Math.sqrt(1+i-a-u);this._w=(l-c)/f,this._x=.25*f,this._y=(n+o)/f,this._z=(s+h)/f}else if(a>u){const f=2*Math.sqrt(1+a-i-u);this._w=(s-h)/f,this._x=(n+o)/f,this._y=.25*f,this._z=(c+l)/f}else{const f=2*Math.sqrt(1+u-i-a);this._w=(o-n)/f,this._x=(s+h)/f,this._y=(c+l)/f,this._z=.25*f}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let i=t.dot(e)+1;return i<Number.EPSILON?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=i):(this._x=0,this._y=-t.z,this._z=t.y,this._w=i)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=i),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(vt(this.dot(t),-1,1)))}rotateTowards(t,e){const i=this.angleTo(t);if(0===i)return this;const n=Math.min(1,e/i);return this.slerp(t,n),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const i=t._x,n=t._y,s=t._z,o=t._w,a=e._x,c=e._y,h=e._z,l=e._w;return this._x=i*l+o*a+n*h-s*c,this._y=n*l+o*c+s*a-i*h,this._z=s*l+o*h+i*c-n*a,this._w=o*l-i*a-n*c-s*h,this._onChangeCallback(),this}slerp(t,e){if(0===e)return this;if(1===e)return this.copy(t);const i=this._x,n=this._y,s=this._z,o=this._w;let a=o*t._w+i*t._x+n*t._y+s*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=o,this._x=i,this._y=n,this._z=s,this;const c=1-a*a;if(c<=Number.EPSILON){const f=1-e;return this._w=f*o+e*this._w,this._x=f*i+e*this._x,this._y=f*n+e*this._y,this._z=f*s+e*this._z,this.normalize(),this}const h=Math.sqrt(c),l=Math.atan2(h,a),u=Math.sin((1-e)*l)/h,d=Math.sin(e*l)/h;return this._w=o*u+this._w*d,this._x=i*u+this._x*d,this._y=n*u+this._y*d,this._z=s*u+this._z*d,this._onChangeCallback(),this}slerpQuaternions(t,e,i){return this.copy(t).slerp(e,i)}random(){const t=2*Math.PI*Math.random(),e=2*Math.PI*Math.random(),i=Math.random(),n=Math.sqrt(1-i),s=Math.sqrt(i);return this.set(n*Math.sin(t),n*Math.cos(t),s*Math.sin(e),s*Math.cos(e))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class w{constructor(t=0,e=0,i=0){w.prototype.isVector3=!0,this.x=t,this.y=e,this.z=i}set(t,e,i){return void 0===i&&(i=this.z),this.x=t,this.y=e,this.z=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return this.applyQuaternion(Yc.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(Yc.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,i=this.y,n=this.z,s=t.elements;return this.x=s[0]*e+s[3]*i+s[6]*n,this.y=s[1]*e+s[4]*i+s[7]*n,this.z=s[2]*e+s[5]*i+s[8]*n,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,i=this.y,n=this.z,s=t.elements,o=1/(s[3]*e+s[7]*i+s[11]*n+s[15]);return this.x=(s[0]*e+s[4]*i+s[8]*n+s[12])*o,this.y=(s[1]*e+s[5]*i+s[9]*n+s[13])*o,this.z=(s[2]*e+s[6]*i+s[10]*n+s[14])*o,this}applyQuaternion(t){const e=this.x,i=this.y,n=this.z,s=t.x,o=t.y,a=t.z,c=t.w,h=2*(o*n-a*i),l=2*(a*e-s*n),u=2*(s*i-o*e);return this.x=e+c*h+o*u-a*l,this.y=i+c*l+a*h-s*u,this.z=n+c*u+s*l-o*h,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,i=this.y,n=this.z,s=t.elements;return this.x=s[0]*e+s[4]*i+s[8]*n,this.y=s[1]*e+s[5]*i+s[9]*n,this.z=s[2]*e+s[6]*i+s[10]*n,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=vt(this.x,t.x,e.x),this.y=vt(this.y,t.y,e.y),this.z=vt(this.z,t.z,e.z),this}clampScalar(t,e){return this.x=vt(this.x,t,e),this.y=vt(this.y,t,e),this.z=vt(this.z,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(vt(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,e){const i=t.x,n=t.y,s=t.z,o=e.x,a=e.y,c=e.z;return this.x=n*c-s*a,this.y=s*o-i*c,this.z=i*a-n*o,this}projectOnVector(t){const e=t.lengthSq();if(0===e)return this.set(0,0,0);const i=t.dot(this)/e;return this.copy(t).multiplyScalar(i)}projectOnPlane(t){return wo.copy(this).projectOnVector(t),this.sub(wo)}reflect(t){return this.sub(wo.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(vt(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y,n=this.z-t.z;return e*e+i*i+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,i){const n=Math.sin(e)*t;return this.x=n*Math.sin(i),this.y=Math.cos(e)*t,this.z=n*Math.cos(i),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,i){return this.x=t*Math.sin(e),this.y=i,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),n=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=i,this.z=n,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,4*e)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,3*e)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=Math.random()*Math.PI*2,e=2*Math.random()-1,i=Math.sqrt(1-e*e);return this.x=i*Math.cos(t),this.y=e,this.z=i*Math.sin(t),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const wo=new w,Yc=new Gt;class ni{constructor(t,e,i,n,s,o,a,c,h){ni.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==t&&this.set(t,e,i,n,s,o,a,c,h)}set(t,e,i,n,s,o,a,c,h){const l=this.elements;return l[0]=t,l[1]=n,l[2]=a,l[3]=e,l[4]=s,l[5]=c,l[6]=i,l[7]=o,l[8]=h,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this}extractBasis(t,e,i){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,n=e.elements,s=this.elements,o=i[0],a=i[3],c=i[6],h=i[1],l=i[4],u=i[7],d=i[2],f=i[5],p=i[8],m=n[0],y=n[3],g=n[6],_=n[1],b=n[4],v=n[7],C=n[2],F=n[5],B=n[8];return s[0]=o*m+a*_+c*C,s[3]=o*y+a*b+c*F,s[6]=o*g+a*v+c*B,s[1]=h*m+l*_+u*C,s[4]=h*y+l*b+u*F,s[7]=h*g+l*v+u*B,s[2]=d*m+f*_+p*C,s[5]=d*y+f*b+p*F,s[8]=d*g+f*v+p*B,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[1],n=t[2],s=t[3],o=t[4],a=t[5],c=t[6],h=t[7],l=t[8];return e*o*l-e*a*h-i*s*l+i*a*c+n*s*h-n*o*c}invert(){const t=this.elements,e=t[0],i=t[1],n=t[2],s=t[3],o=t[4],a=t[5],c=t[6],h=t[7],l=t[8],u=l*o-a*h,d=a*c-l*s,f=h*s-o*c,p=e*u+i*d+n*f;if(0===p)return this.set(0,0,0,0,0,0,0,0,0);const m=1/p;return t[0]=u*m,t[1]=(n*h-l*i)*m,t[2]=(a*i-n*o)*m,t[3]=d*m,t[4]=(l*e-n*c)*m,t[5]=(n*s-a*e)*m,t[6]=f*m,t[7]=(i*c-h*e)*m,t[8]=(o*e-i*s)*m,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,i,n,s,o,a){const c=Math.cos(s),h=Math.sin(s);return this.set(i*c,i*h,-i*(c*o+h*a)+o+t,-n*h,n*c,-n*(-h*o+c*a)+a+e,0,0,1),this}scale(t,e){return this.premultiply(_o.makeScale(t,e)),this}rotate(t){return this.premultiply(_o.makeRotation(-t)),this}translate(t,e){return this.premultiply(_o.makeTranslation(t,e)),this}makeTranslation(t,e){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,e,0,0,1),this}makeRotation(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,i,e,0,0,0,1),this}makeScale(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}equals(t){const e=this.elements,i=t.elements;for(let n=0;n<9;n++)if(e[n]!==i[n])return!1;return!0}fromArray(t,e=0){for(let i=0;i<9;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t}clone(){return(new this.constructor).fromArray(this.elements)}}const _o=new ni;Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const jc={};function Jc(r){r in jc||(jc[r]=!0,console.warn(r))}const Zc=(new ni).set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),Xc=(new ni).set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function Cf(){const r={enabled:!0,workingColorSpace:Gc,spaces:{},convert:function(n,s,o){return!1===this.enabled||s===o||!s||!o||(this.spaces[s].transfer===xo&&(n.r=di(n.r),n.g=di(n.g),n.b=di(n.b)),this.spaces[s].primaries!==this.spaces[o].primaries&&(n.applyMatrix3(this.spaces[s].toXYZ),n.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===xo&&(n.r=wn(n.r),n.g=wn(n.g),n.b=wn(n.b))),n},workingToColorSpace:function(n,s){return this.convert(n,this.workingColorSpace,s)},colorSpaceToWorking:function(n,s){return this.convert(n,s,this.workingColorSpace)},getPrimaries:function(n){return this.spaces[n].primaries},getTransfer:function(n){return""===n?"linear":this.spaces[n].transfer},getLuminanceCoefficients:function(n,s=this.workingColorSpace){return n.fromArray(this.spaces[s].luminanceCoefficients)},define:function(n){Object.assign(this.spaces,n)},_getMatrix:function(n,s,o){return n.copy(this.spaces[s].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(n){return this.spaces[n].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(n=this.workingColorSpace){return this.spaces[n].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(n,s){return Jc("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),r.workingToColorSpace(n,s)},toWorkingColorSpace:function(n,s){return Jc("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),r.colorSpaceToWorking(n,s)}},t=[.64,.33,.3,.6,.15,.06],e=[.2126,.7152,.0722],i=[.3127,.329];return r.define({[Gc]:{primaries:t,whitePoint:i,transfer:"linear",toXYZ:Zc,fromXYZ:Xc,luminanceCoefficients:e,workingColorSpaceConfig:{unpackColorSpace:ke},outputColorSpaceConfig:{drawingBufferColorSpace:ke}},[ke]:{primaries:t,whitePoint:i,transfer:xo,toXYZ:Zc,fromXYZ:Xc,luminanceCoefficients:e,outputColorSpaceConfig:{drawingBufferColorSpace:ke}}}),r}const Ce=Cf();function di(r){return r<.04045?.0773993808*r:Math.pow(.9478672986*r+.0521327014,2.4)}function wn(r){return r<.0031308?12.92*r:1.055*Math.pow(r,.41666)-.055}Symbol;const hh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},zi={h:0,s:0,l:0},Us={h:0,s:0,l:0};function No(r,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?r+6*(t-r)*e:e<.5?t:e<2/3?r+6*(t-r)*(2/3-e):r}class St{constructor(t,e,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,e,i)}set(t,e,i){if(void 0===e&&void 0===i){const n=t;n&&n.isColor?this.copy(n):"number"==typeof n?this.setHex(n):"string"==typeof n&&this.setStyle(n)}else this.setRGB(t,e,i);return this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,e=ke){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,Ce.colorSpaceToWorking(this,e),this}setRGB(t,e,i,n=Ce.workingColorSpace){return this.r=t,this.g=e,this.b=i,Ce.colorSpaceToWorking(this,n),this}setHSL(t,e,i,n=Ce.workingColorSpace){if(t=function bo(r,t){return(r%t+t)%t}(t,1),e=vt(e,0,1),i=vt(i,0,1),0===e)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+e):i+e-i*e,o=2*i-s;this.r=No(o,s,t+1/3),this.g=No(o,s,t),this.b=No(o,s,t-1/3)}return Ce.colorSpaceToWorking(this,n),this}setStyle(t,e=ke){function i(s){void 0!==s&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let n;if(n=/^(\w+)\(([^\)]*)\)/.exec(t)){let s;const a=n[2];switch(n[1]){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,e);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,e);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,e);break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(n=/^\#([A-Fa-f\d]+)$/.exec(t)){const s=n[1],o=s.length;if(3===o)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,e);if(6===o)return this.setHex(parseInt(s,16),e);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,e);return this}setColorName(t,e=ke){const i=hh[t.toLowerCase()];return void 0!==i?this.setHex(i,e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=di(t.r),this.g=di(t.g),this.b=di(t.b),this}copyLinearToSRGB(t){return this.r=wn(t.r),this.g=wn(t.g),this.b=wn(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=ke){return Ce.workingToColorSpace(ge.copy(this),t),65536*Math.round(vt(255*ge.r,0,255))+256*Math.round(vt(255*ge.g,0,255))+Math.round(vt(255*ge.b,0,255))}getHexString(t=ke){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,e=Ce.workingColorSpace){Ce.workingToColorSpace(ge.copy(this),e);const i=ge.r,n=ge.g,s=ge.b,o=Math.max(i,n,s),a=Math.min(i,n,s);let c,h;const l=(a+o)/2;if(a===o)c=0,h=0;else{const u=o-a;switch(h=l<=.5?u/(o+a):u/(2-o-a),o){case i:c=(n-s)/u+(n<s?6:0);break;case n:c=(s-i)/u+2;break;case s:c=(i-n)/u+4}c/=6}return t.h=c,t.s=h,t.l=l,t}getRGB(t,e=Ce.workingColorSpace){return Ce.workingToColorSpace(ge.copy(this),e),t.r=ge.r,t.g=ge.g,t.b=ge.b,t}getStyle(t=ke){Ce.workingToColorSpace(ge.copy(this),t);const e=ge.r,i=ge.g,n=ge.b;return t!==ke?`color(${t} ${e.toFixed(3)} ${i.toFixed(3)} ${n.toFixed(3)})`:`rgb(${Math.round(255*e)},${Math.round(255*i)},${Math.round(255*n)})`}offsetHSL(t,e,i){return this.getHSL(zi),this.setHSL(zi.h+t,zi.s+e,zi.l+i)}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,i){return this.r=t.r+(e.r-t.r)*i,this.g=t.g+(e.g-t.g)*i,this.b=t.b+(e.b-t.b)*i,this}lerpHSL(t,e){this.getHSL(zi),t.getHSL(Us);const i=Jn(zi.h,Us.h,e),n=Jn(zi.s,Us.s,e),s=Jn(zi.l,Us.l,e);return this.setHSL(i,n,s),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){const e=this.r,i=this.g,n=this.b,s=t.elements;return this.r=s[0]*e+s[3]*i+s[6]*n,this.g=s[1]*e+s[4]*i+s[7]*n,this.b=s[2]*e+s[5]*i+s[8]*n,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const ge=new St;function en(r,t){return r&&r.constructor!==t?"number"==typeof t.BYTES_PER_ELEMENT?new t(r):Array.prototype.slice.call(r):r}St.NAMES=hh;class vr{constructor(t,e,i,n){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==n?n:new e.constructor(i),this.sampleValues=e,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let i=this._cachedIndex,n=e[i],s=e[i-1];t:{e:{let o;i:{n:if(!(t<n)){for(let a=i+2;;){if(void 0===n){if(t<s)break n;return i=e.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=n,n=e[++i],t<n)break e}o=e.length;break i}if(t>=s)break t;{const a=e[1];t<a&&(i=2,s=a);for(let c=i-2;;){if(void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(i===c)break;if(n=s,s=e[--i-1],t>=s)break e}o=i,i=0}}for(;i<o;){const a=i+o>>>1;t<e[a]?o=a:i=a+1}if(n=e[i],s=e[i-1],void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===n)return i=e.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,n)}return this.interpolate_(i,s,t,n)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,i=this.sampleValues,n=this.valueSize,s=t*n;for(let o=0;o!==n;++o)e[o]=i[s+o];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class pm extends vr{constructor(t,e,i,n){super(t,e,i,n),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(t,e,i){const n=this.parameterPositions;let s=t-2,o=t+1,a=n[s],c=n[o];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:s=t,a=2*e-i;break;case 2402:s=n.length-2,a=e+n[s]-n[s+1];break;default:s=t,a=i}if(void 0===c)switch(this.getSettings_().endingEnd){case 2401:o=t,c=2*i-e;break;case 2402:o=1,c=i+n[1]-n[0];break;default:o=t-1,c=e}const h=.5*(i-e),l=this.valueSize;this._weightPrev=h/(e-a),this._weightNext=h/(c-i),this._offsetPrev=s*l,this._offsetNext=o*l}interpolate_(t,e,i,n){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,c=t*a,h=c-a,l=this._offsetPrev,u=this._offsetNext,d=this._weightPrev,f=this._weightNext,p=(i-e)/(n-e),m=p*p,y=m*p,g=-d*y+2*d*m-d*p,_=(1+d)*y+(-1.5-2*d)*m+(-.5+d)*p+1,b=(-1-f)*y+(1.5+f)*m+.5*p,v=f*y-f*m;for(let C=0;C!==a;++C)s[C]=g*o[l+C]+_*o[h+C]+b*o[c+C]+v*o[u+C];return s}}class il extends vr{constructor(t,e,i,n){super(t,e,i,n)}interpolate_(t,e,i,n){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,c=t*a,h=c-a,l=(i-e)/(n-e),u=1-l;for(let d=0;d!==a;++d)s[d]=o[h+d]*u+o[c+d]*l;return s}}class mm extends vr{constructor(t,e,i,n){super(t,e,i,n)}interpolate_(t){return this.copySampleValue_(t-1)}}class Ze{constructor(t,e,i,n){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=en(e,this.TimeBufferType),this.values=en(i,this.ValueBufferType),this.setInterpolation(n||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let i;if(e.toJSON!==this.toJSON)i=e.toJSON(t);else{i={name:t.name,times:en(t.times,Array),values:en(t.values,Array)};const n=t.getInterpolation();n!==t.DefaultInterpolation&&(i.interpolation=n)}return i.type=t.ValueTypeName,i}InterpolantFactoryMethodDiscrete(t){return new mm(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new il(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new pm(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case 2300:e=this.InterpolantFactoryMethodDiscrete;break;case 2301:e=this.InterpolantFactoryMethodLinear;break;case 2302:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(i);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(t){if(0!==t){const e=this.times;for(let i=0,n=e.length;i!==n;++i)e[i]+=t}return this}scale(t){if(1!==t){const e=this.times;for(let i=0,n=e.length;i!==n;++i)e[i]*=t}return this}trim(t,e){const i=this.times,n=i.length;let s=0,o=n-1;for(;s!==n&&i[s]<t;)++s;for(;-1!==o&&i[o]>e;)--o;if(++o,0!==s||o!==n){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=i.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const i=this.times,n=this.values,s=i.length;0===s&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let o=null;for(let a=0;a!==s;a++){const c=i[a];if("number"==typeof c&&isNaN(c)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,c),t=!1;break}if(null!==o&&o>c){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,c,o),t=!1;break}o=c}if(void 0!==n&&function tl(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}(n))for(let a=0,c=n.length;a!==c;++a){const h=n[a];if(isNaN(h)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,h),t=!1;break}}return t}optimize(){const t=this.times.slice(),e=this.values.slice(),i=this.getValueSize(),n=2302===this.getInterpolation(),s=t.length-1;let o=1;for(let a=1;a<s;++a){let c=!1;const h=t[a];if(h!==t[a+1]&&(1!==a||h!==t[0]))if(n)c=!0;else{const u=a*i,d=u-i,f=u+i;for(let p=0;p!==i;++p){const m=e[u+p];if(m!==e[d+p]||m!==e[f+p]){c=!0;break}}}if(c){if(a!==o){t[o]=t[a];const u=a*i,d=o*i;for(let f=0;f!==i;++f)e[d+f]=e[u+f]}++o}}if(s>0){t[o]=t[s];for(let a=s*i,c=o*i,h=0;h!==i;++h)e[c+h]=e[a+h];++o}return o!==t.length?(this.times=t.slice(0,o),this.values=e.slice(0,o*i)):(this.times=t,this.values=e),this}clone(){const t=this.times.slice(),e=this.values.slice(),n=new(0,this.constructor)(this.name,t,e);return n.createInterpolant=this.createInterpolant,n}}Ze.prototype.ValueTypeName="",Ze.prototype.TimeBufferType=Float32Array,Ze.prototype.ValueBufferType=Float32Array,Ze.prototype.DefaultInterpolation=2301;class Gn extends Ze{constructor(t,e,i){super(t,e,i)}}Gn.prototype.ValueTypeName="bool",Gn.prototype.ValueBufferType=Array,Gn.prototype.DefaultInterpolation=2300,Gn.prototype.InterpolantFactoryMethodLinear=void 0,Gn.prototype.InterpolantFactoryMethodSmooth=void 0;(class nl extends Ze{constructor(t,e,i,n){super(t,e,i,n)}}).prototype.ValueTypeName="color";(class Sr extends Ze{constructor(t,e,i,n){super(t,e,i,n)}}).prototype.ValueTypeName="number";class ym extends vr{constructor(t,e,i,n){super(t,e,i,n)}interpolate_(t,e,i,n){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,c=(i-e)/(n-e);let h=t*a;for(let l=h+a;h!==l;h+=4)Gt.slerpFlat(s,0,o,h-a,o,h,c);return s}}class Mr extends Ze{constructor(t,e,i,n){super(t,e,i,n)}InterpolantFactoryMethodLinear(t){return new ym(this.times,this.values,this.getValueSize(),t)}}Mr.prototype.ValueTypeName="quaternion",Mr.prototype.InterpolantFactoryMethodSmooth=void 0;class $n extends Ze{constructor(t,e,i){super(t,e,i)}}$n.prototype.ValueTypeName="string",$n.prototype.ValueBufferType=Array,$n.prototype.DefaultInterpolation=2300,$n.prototype.InterpolantFactoryMethodLinear=void 0,$n.prototype.InterpolantFactoryMethodSmooth=void 0;(class Ar extends Ze{constructor(t,e,i,n){super(t,e,i,n)}}).prototype.ValueTypeName="vector",Error;const Ba="\\[\\]\\.:\\/",Vm=new RegExp("["+Ba+"]","g"),ka="[^"+Ba+"]",Dm="[^"+Ba.replace("\\.","")+"]",qm=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",ka)+/(WCOD+)?/.source.replace("WCOD",Dm)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",ka)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",ka)+"$"),Ym=["material","materials","bones","map"];class jm{constructor(t,e,i){const n=i||Ht.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,n)}getValue(t,e){this.bind();const n=this._bindings[this._targetGroup.nCachedObjects_];void 0!==n&&n.getValue(t,e)}setValue(t,e){const i=this._bindings;for(let n=this._targetGroup.nCachedObjects_,s=i.length;n!==s;++n)i[n].setValue(t,e)}bind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].bind()}unbind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].unbind()}}let Ht=(()=>{class r{constructor(e,i,n){this.path=i,this.parsedPath=n||r.parseTrackName(i),this.node=r.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,i,n){return e&&e.isAnimationObjectGroup?new r.Composite(e,i,n):new r(e,i,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Vm,"")}static parseTrackName(e){const i=qm.exec(e);if(null===i)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:i[2],objectName:i[3],objectIndex:i[4],propertyName:i[5],propertyIndex:i[6]},s=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==s&&-1!==s){const o=n.nodeName.substring(s+1);-1!==Ym.indexOf(o)&&(n.nodeName=n.nodeName.substring(0,s),n.objectName=o)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,i){if(void 0===i||""===i||"."===i||-1===i||i===e.name||i===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(i);if(void 0!==n)return n}if(e.children){const n=function(o){for(let a=0;a<o.length;a++){const c=o[a];if(c.name===i||c.uuid===i)return c;const h=n(c.children);if(h)return h}return null},s=n(e.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,i){e[i]=this.targetObject[this.propertyName]}_getValue_array(e,i){const n=this.resolvedProperty;for(let s=0,o=n.length;s!==o;++s)e[i++]=n[s]}_getValue_arrayElement(e,i){e[i]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,i){this.resolvedProperty.toArray(e,i)}_setValue_direct(e,i){this.targetObject[this.propertyName]=e[i]}_setValue_direct_setNeedsUpdate(e,i){this.targetObject[this.propertyName]=e[i],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,i){this.targetObject[this.propertyName]=e[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,i){const n=this.resolvedProperty;for(let s=0,o=n.length;s!==o;++s)n[s]=e[i++]}_setValue_array_setNeedsUpdate(e,i){const n=this.resolvedProperty;for(let s=0,o=n.length;s!==o;++s)n[s]=e[i++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,i){const n=this.resolvedProperty;for(let s=0,o=n.length;s!==o;++s)n[s]=e[i++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,i){this.resolvedProperty[this.propertyIndex]=e[i]}_setValue_arrayElement_setNeedsUpdate(e,i){this.resolvedProperty[this.propertyIndex]=e[i],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,i){this.resolvedProperty[this.propertyIndex]=e[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,i){this.resolvedProperty.fromArray(e,i)}_setValue_fromArray_setNeedsUpdate(e,i){this.resolvedProperty.fromArray(e,i),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,i){this.resolvedProperty.fromArray(e,i),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,i){this.bind(),this.getValue(e,i)}_setValue_unbound(e,i){this.bind(),this.setValue(e,i)}bind(){let e=this.node;const i=this.parsedPath,n=i.objectName,s=i.propertyName;let o=i.propertyIndex;if(e||(e=r.findNode(this.rootNode,i.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");if(n){let l=i.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===l){l=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);e=e.material.map;break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==l){if(void 0===e[l])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[l]}}const a=e[s];if(void 0===a)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+i.nodeName+"."+s+" but it wasn't found.",e);let c=this.Versioning.None;this.targetObject=e,!0===e.isMaterial?c=this.Versioning.NeedsUpdate:!0===e.isObject3D&&(c=this.Versioning.MatrixWorldNeedsUpdate);let h=this.BindingType.Direct;if(void 0!==o){if("morphTargetInfluences"===s){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[o]&&(o=e.morphTargetDictionary[o])}h=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=o}else void 0!==a.fromArray&&void 0!==a.toArray?(h=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(h=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=s;this.getValue=this.GetterByBindingType[h],this.setValue=this.SetterByBindingTypeAndVersioning[h][c]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return r.Composite=jm,r})();Ht.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Ht.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Ht.prototype.GetterByBindingType=[Ht.prototype._getValue_direct,Ht.prototype._getValue_array,Ht.prototype._getValue_arrayElement,Ht.prototype._getValue_toArray],Ht.prototype.SetterByBindingTypeAndVersioning=[[Ht.prototype._setValue_direct,Ht.prototype._setValue_direct_setNeedsUpdate,Ht.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Ht.prototype._setValue_array,Ht.prototype._setValue_array_setNeedsUpdate,Ht.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Ht.prototype._setValue_arrayElement,Ht.prototype._setValue_arrayElement_setNeedsUpdate,Ht.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Ht.prototype._setValue_fromArray,Ht.prototype._setValue_fromArray_setNeedsUpdate,Ht.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]],new Float32Array(1),typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"177"}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="177");const sy=H(305).expose;const xs=H(146).registerSerializer;var ry=H(846),Lt=function(r){return r.ACCELERATION="ACCELERATION",r.ANGULAR_ACCELERATION="ANGULAR_ACCELERATION",r.ANGULAR_SPEED="ANGULAR_SPEED",r.CURRENT="CURRENT",r.FORCE="FORCE",r.LENGTH="LENGTH",r.MASS="MASS",r.MOMENTUM="MOMENTUM",r.PLANE_ANGLE="PLANE_ANGLE",r.POWER="POWER",r.SPEED="SPEED",r.TEMPERATURE="TEMPERATURE",r.TIME="TIME",r.TORQUE="TORQUE",r.VOLTAGE="VOLTAGE",r.MOMENT_INERTIA="MOMENT_INERTIA",r}(Lt||{});const oy=Number.parseFloat(new ry(Math.PI).div(180).toFixed());class Rl{constructor(){this.quantity=Lt.LENGTH,this.length=!0}}class Pl{constructor(){this.quantity=Lt.PLANE_ANGLE,this.angle=!0}}class Fl{constructor(){this.quantity=Lt.MASS,this.mass=!0}}class zl{constructor(){this.quantity=Lt.VOLTAGE,this.voltage=!0}}class Ol{constructor(){this.quantity=Lt.CURRENT,this.current=!0}}class Bl{constructor(){this.quantity=Lt.TIME,this.time=!0}}class kl{constructor(){this.quantity=Lt.SPEED,this.speed=!0}}class Ll{constructor(){this.quantity=Lt.ANGULAR_SPEED,this.angularSpeed=!0}}class Nl{constructor(){this.quantity=Lt.ACCELERATION,this.acceleration=!0}}class Ul{constructor(){this.quantity=Lt.ANGULAR_ACCELERATION,this.angularAcceleration=!0}}class vi{constructor(t,e,i,n){this.quantity=t,this.numeratorUnit=e,this.denominatorUnit=i,this.significantDigits=n,this.label=this.numeratorUnit.label.endsWith(i.label)?`${this.numeratorUnit.label}^2`:`${this.numeratorUnit.label}/${this.denominatorUnit.label}`,this.symbol=this.numeratorUnit.symbol.endsWith(i.symbol)?`${this.numeratorUnit.symbol}\xb2`:`${this.numeratorUnit.symbol}/${this.denominatorUnit.symbol}`,this.scaleFactor=this.numeratorUnit.scaleFactor*this.denominatorUnit.scaleFactor}}const Da={quantity:new Rl,scaleFactor:.001,significantDigits:1,label:"mm",symbol:"mm"},Br={quantity:new Rl,scaleFactor:1,significantDigits:4,label:"m",symbol:"m"},kr={quantity:new Pl,scaleFactor:1,significantDigits:4,label:"rad",symbol:"rad"},Wa={quantity:new Pl,scaleFactor:oy,significantDigits:2,label:"deg",symbol:"\xb0"},De=(new Fl,new Fl,new zl,new zl,new Ol,new Ol,{quantity:new Bl,scaleFactor:1,significantDigits:2,label:"s",symbol:"s"}),Lr=(new Bl,new class cy{constructor(){this.quantity=Lt.FORCE,this.force=!0}},new class hy{constructor(){this.quantity=Lt.POWER,this.power=!0}},{quantity:new class ly{constructor(){this.quantity=Lt.TORQUE,this.torque=!0}},scaleFactor:9.80665,significantDigits:1,label:"kg*m",symbol:"kg\xb7m"}),Nr=(new class dy{constructor(){this.quantity=Lt.MOMENT_INERTIA,this.momentOfInertia=!0}},new class fy{constructor(){this.quantity=Lt.TEMPERATURE,this.temperature=!0}},new vi(new kl,Br,De,5)),Za=new vi(new kl,Da,De,2),Ur=new vi(new Ll,kr,De,3),Xa=new vi(new Ll,Wa,De,2);new vi(new Nl,Nr,De,5),new vi(new Nl,Za,De,2),new vi(new Ul,Ur,De,3),new vi(new Ul,Xa,De,2),new vi(new class uy{constructor(){this.quantity=Lt.MOMENTUM,this.momentum=!0}},Lr,De,1);EventTarget;var Hn=function(r){return r.BOOLEAN="boolean",r.FLOAT="float",r.INTEGER="integer",r.POSE="pose",r.STRING="string",r.MATRIX="matrix",r.ARRAY="array",r.WAYPOINT="waypoint",r.GRID="grid",r.FRAME="frame",r.TIMER="timer",r.PROFILE="profile",r}(Hn||{}),Wr=function(r){return r.ERROR="error",r.WARNING="warning",r.INFO="info",r}(Wr||{});function Xe(r){return"objectPosition"in r&&"objectRotation"in r&&"referenceFrame"in r}function ru(r){return r&&"$$ApplicationContext"===r.type}(new Gt).setFromAxisAngle(new w(1,0,0),Math.PI/2),(new Gt).setFromAxisAngle(new w(1,0,0),-Math.PI/2);const b0=()=>({deserialize:(r,t)=>ru(r)?{contributions:{contributionList:r.contributions?.contributionList??[],getContribution(e){return this.contributionList.find(i=>i.parentType===e)}},frames:{framesList:r.frames?.framesList??[],getFrame(e){return this.framesList.find(i=>i.name===e)}}}:t(r),serialize:(r,t)=>ru(r)?{type:"$$ApplicationContext",contributions:{contributionList:r.contributions?.contributionList??[]},frames:{framesList:r.frames?.framesList??[]}}:t(r)});class Fe{constructor(t){this.pointer=0,this.values=t}next(){var t=this;return function E(r){return function(){var t=this,e=arguments;return new Promise(function(i,n){var s=r.apply(t,e);function o(c){J(s,i,n,o,a,"next",c)}function a(c){J(s,i,n,o,a,"throw",c)}o(void 0)})}}(function*(){if(t.pointer<t.values.length){const e=t.pointer;return t.pointer++,{done:!1,value:t.values[e]}}return{done:!0,value:null}})()}[Symbol.asyncIterator](){return this}}function ou(r){return r&&"$$InsertionContext"===r.type}let au=(()=>{class r{static{this.SINGLE_INDENT="  "}static{this.SINGLE_INDENT_LEVEL=1}constructor(e="",i=0){this.type="$$ScriptBuilder",this.script="",this.currentIndent=0,this.addStatements(e),this.currentIndent=i}static getBooleanAsString(e){return e?"True":"False"}static negate(e){return`not (${e})`}static formatArray(e){let i,n;return n="[",e.forEach((s,o)=>{i="boolean"==typeof s?r.getBooleanAsString(s):"string"==typeof s?`"${s}"`:s.toString(),n+=i,o<e.length-1&&(n+=", ")}),n+"]"}static formatVariableToURScriptLiteral(e,i){if(!e||void 0===e.valueType)return"";switch(e.valueType){case Hn.POSE:return function v0(r){return`p[${r}]`}(i);case Hn.BOOLEAN:return function S0(r){const t="string"==typeof r?"true"===r.toLowerCase():!!r;return au.getBooleanAsString(t)}(i);case Hn.ARRAY:return function M0(r){return`[${r}]`}(i);case Hn.STRING:return function A0(r){return/^"(.*)"$/.test(r)?r:`"${r}"`}(i);case Hn.MATRIX:return function T0(r){return Array.isArray(r)?JSON.stringify(r):"string"==typeof r&&r.startsWith("[")&&r.endsWith("]")?r:String(r)}(i);default:return String(i)}}static CreateInkognitoProgram(){return(new r).defineFunction("inkognito")}static CreateSecondaryProgram(e){const i=new r;return i.addStatements(`sec ${e}():`),i.increaseIndent(),i}addStatements(e){let i="";for(let n=0;n<this.currentIndent;n++)i+=r.SINGLE_INDENT;return e.split("\n").filter(n=>n.length>0).forEach(n=>{this.script+=`${i}${n}\n`}),this}addRaw(e){return this.script+=`${e}\n`,this}beginWhile(e){return this.addStatements(`while (${e}):`),this.increaseIndent(),this}beginWhileNot(e){return this.addStatements(`while not (${e}):`),this.increaseIndent(),this}beginWhileTrue(){return this.beginWhile("True"),this}end(){return this.decreaseIndent(),this.addStatements("end"),this}endBlock(){return this.decreaseIndent(),this}returnMethod(){return this.addStatements("return"),this}globalVariable(e,i){return this.addStatements(`global ${e} = ${i}`),this}localVariable(e,i){return this.addStatements(`local ${e} = ${i}`),this}setPersistentVariable(e,i){return this.addStatements(`shared ${e} = ${i}`),this}incrementVariable(e){return this.addStatements(`${e} = ${e} + 1`),this}assign(e,i){return this.addStatements(`${e} = ${i}`),this}ifCondition(e){return this.addStatements(`if (${e}):`),this.increaseIndent(),this}elseIfCondition(e){return this.addStatements(`elif (${e}):`),this.increaseIndent(),this}else(){return this.addStatements("else:"),this.increaseIndent(),this}defineThread(e){return this.addStatements(`thread ${e}():`),this.increaseIndent(),this}runThread(e,i){return this.addStatements(`${e} = run ${i}()`),this}killThread(e){return this.addStatements(`kill ${e}`),this}defineFunction(e,...i){return this.addStatements(`def ${e}(${i.join(",")}):`),this.increaseIndent(),this}comment(e){for(const i of e.split("\n"))this.addStatements(`# ${i}`);return this}addFrame(e,i,n="base"){if("string"==typeof i)return this.addStatements(`add_frame("${e}", ${i}, "${n}")`);const s=Xe(i)?i.objectPosition.zUpPositionMeters:i.position,o=Xe(i)?i.objectRotation.zUpRotationVectorRadians:i.orientation,a=Xe(i)?i.referenceFrame:n;return this.addStatements(`add_frame("${e}", p[${s[0]}, ${s[1]}, ${s[2]}, ${o[0]}, ${o[1]}, ${o[2]}], "${a}")`)}deleteFrame(e){return this.addStatements(`delete_frame("${e}")`)}moveFrame(e,i,n="base"){const s=Xe(i)?i.objectPosition.zUpPositionMeters:i.position,o=Xe(i)?i.objectRotation.zUpRotationVectorRadians:i.orientation,a=Xe(i)?i.referenceFrame:n;return this.addStatements(`move_frame("${e}", p[${s[0]}, ${s[1]}, ${s[2]}, ${o[0]}, ${o[1]}, ${o[2]}], "${a}")`)}attachFrame(e,i){return this.addStatements(`attach_frame("${e}", "${i}")`)}setFrameOrientation(e,i){const n=`"${e}"`,s=function _0(r){return"zUpRotationVectorRadians"in r}(i)?i.zUpRotationVectorRadians:i;return this.addStatements([`local existingBaseParent = get_frame_parent(${n})`,`local basePose = get_pose(${n}, existingBaseParent)`,`basePose[3] = ${s[0]}`,`basePose[4] = ${s[1]}`,`basePose[5] = ${s[2]}`,`move_frame(${n}, basePose, existingBaseParent)`].join("\n"))}popup(e,i,n,s){let o;switch(n){case Wr.ERROR:o=`popup("${e}", "${i}", False, True, blocking=${r.getBooleanAsString(s)})`;break;case Wr.WARNING:o=`popup("${e}", "${i}", True, False, blocking=${r.getBooleanAsString(s)})`;break;case Wr.INFO:o=`popup("${e}", "${i}", False, False, blocking=${r.getBooleanAsString(s)})`}return this.addStatements(o),this}requestValue(e,i,n){if(e&&i&&null!==n){const s=`request_${n.toLowerCase()}_from_primary_client("${i}")`;this.globalVariable(e,s)}return this}halt(){return this.addStatements("halt"),this}insertBreak(){return this.break()}break(){return this.addStatements("break"),this}sync(){return this.addStatements("sync()"),this}sleep(e){return this.addStatements(`sleep(${e})`),this}stopl(e){return this.addStatements(`stopl(${e})`),this}stopj(e){return this.addStatements(`stopj(${e})`),this}speedl(e,i,n,s){return this.addStatements(s?`speedl(struct(vel=${r.formatArray(e)}, frame="${s}"), ${i}, ${n})`:`speedl(${r.formatArray(e)}, ${i}, ${n})`),this}speedj(e,i,n){return this.addStatements(`speedj(${r.formatArray(e)}, ${i}, ${n})`),this}movej(e,i,n,s,o){"string"!=typeof e&&!(e instanceof String)&&(e=r.formatArray(e));const a=[`${e}`];return i&&a.push(`a=${i}`),n&&a.push(`v=${n}`),s&&a.push(`t=${s}`),o&&a.push(`r=${o}`),this.addStatements(`movej(${a.join(", ")})`),this}movel(e,i,n,s,o){const a=[e];return i&&a.push(`a=${i}`),n&&a.push(`v=${n}`),s&&a.push(`t=${s}`),o&&a.push(`r=${o}`),this.addStatements(`movel(${a.join(", ")})`),this}movep(e,i,n,s){"string"!=typeof e&&!(e instanceof String)&&(e=r.formatArray(e));const o=[`${e}`];return i&&o.push(`a=${i}`),n&&o.push(`v=${n}`),s&&o.push(`r=${s}`),this.addStatements(`movep(${o.join(", ")})`),this}movec(e,i,n,s,o,a){"string"!=typeof e&&(e=r.formatArray(e)),"string"!=typeof i&&(i=r.formatArray(i));const c=[`${e}`,`${i}`];return n&&c.push(`a=${n}`),s&&c.push(`v=${s}`),o&&c.push(`r=${o}`),a&&c.push(`mode=${a}`),this.addStatements(`movec(${c.join(", ")})`),this}optimovej(e,i,n,s){"string"!=typeof e&&!(e instanceof String)&&(e=r.formatArray(e));const o=[`${e}`];return i&&o.push(`a=${i}`),n&&o.push(`v=${n}`),s&&o.push(`r=${s}`),this.addStatements(`optimovej(${o.join(", ")})`),this}optimovel(e,i,n,s){const o=[e];return i&&o.push(`a=${i}`),n&&o.push(`v=${n}`),s&&o.push(`r=${s}`),this.addStatements(`optimovel(${o.join(", ")})`),this}setPayloadMass(e){return this.addStatements(`set_payload_mass(${e})`),this}setPayloadMassAndCoG(e,i,n,s,o){return this.setTargetPayload(e,i,n,s,o)}setTargetPayload(e,i,n,s,o){return this.addStatements(o?`set_target_payload(${e}, [${i}, ${n}, ${s}], [${o[0]}, ${o[1]}, ${o[2]}, ${o[3]}, ${o[4]}, ${o[5]}])`:`set_target_payload(${e}, [${i}, ${n}, ${s}])`),this}setGravity(e,i,n){return this.addStatements(`set_gravity([${e},${i},${n}])`)}setTcp(e,i,n,s,o,a,c){return this.addStatements(`set_tcp(p[${e}, ${i}, ${n}, ${s}, ${o}, ${a}]${c?', "'+c+'"':""})`),this}append(e){return e.getIndention()<0?(this.increaseIndent(e.getIndention()),this.addStatements(e.getScript())):(this.addStatements(e.getScript()),this.increaseIndent(e.getIndention())),this}getScript(){return this.script.trimEnd()}getIndention(){return this.currentIndent}increaseIndent(e=r.SINGLE_INDENT_LEVEL){this.currentIndent+=e}decreaseIndent(e=r.SINGLE_INDENT_LEVEL){this.currentIndent-=e}}return r})();function cu(r){return r&&"$$ScriptContext"===r.type}function hu(r){return r&&"$$ValidationContext"===r.type}const F0=r=>{(function R0(){xs({deserialize:(r,t)=>cu(r)?{traverse:{ancestors:new Fe(r.ancestors?r.ancestors:[]),children:new Fe(r.children?r.children:[]),depthFirst:new Fe(r.depthFirst?r.depthFirst:[]),nextSiblings:new Fe(r.nextSiblings?r.nextSiblings:[]),previousSiblings:new Fe(r.previousSiblings?r.previousSiblings:[])}}:t(r),serialize:(r,t)=>cu(r)?{type:"$$ScriptContext",ancestors:r.ancestors,children:r.children,depthFirst:r.depthFirst,previousSiblings:r.previousSiblings,nextSiblings:r.nextSiblings}:t(r)}),xs({deserialize:(r,t)=>hu(r)?{traverse:{ancestors:new Fe(r.ancestors?r.ancestors:[]),children:new Fe(r.children?r.children:[]),depthFirst:new Fe(r.depthFirst?r.depthFirst:[]),nextSiblings:new Fe(r.nextSiblings?r.nextSiblings:[]),previousSiblings:new Fe(r.previousSiblings?r.previousSiblings:[])}}:t(r),serialize:(r,t)=>hu(r)?{type:"$$ValidationContext",ancestors:r.ancestors,children:r.children,depthFirst:r.depthFirst,previousSiblings:r.previousSiblings,nextSiblings:r.nextSiblings}:t(r)}),xs({deserialize:(r,t)=>ou(r)?{traverse:{ancestors:new Fe(r.ancestors?r.ancestors:[]),nextSiblings:new Fe(r.nextSiblings?r.nextSiblings:[]),previousSiblings:new Fe(r.previousSiblings?r.previousSiblings:[])}}:t(r),serialize:(r,t)=>ou(r)?{type:"$$InsertionContext",ancestors:r.ancestors,previousSiblings:r.previousSiblings,nextSiblings:r.nextSiblings}:t(r)}),xs({deserialize:(r,t)=>r&&"$$ScriptBuilder"===r.type?new au(r.script,r.currentIndent):t(r),serialize:(r,t)=>r&&r.constructor&&"ScriptBuilder"===r.constructor.name?{type:"$$ScriptBuilder",...r}:t(r)}),xs(b0())})(),sy(r)}},981:(Ot,M,H)=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.serialize=M.deserialize=M.registerSerializer=void 0;const J=H(435);let E=J.DefaultSerializer;M.registerSerializer=function k(yt){E=J.extendSerializer(E,yt)},M.deserialize=function z(yt){return E.deserialize(yt)},M.serialize=function dt(yt){return E.serialize(yt)}}}]);